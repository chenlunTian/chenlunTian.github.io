<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="theme-color" content="#0078E7"><meta name="author" content="DaiT"><meta name="copyright" content="DaiT"><meta name="generator" content="Hexo 6.3.0"><meta name="theme" content="hexo-theme-yun"><title>ç®€å•ä¸²å£ç¼–å†™ | DaiT Blog</title><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@900&amp;display=swap" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/star-markdown-css@0.4.1/dist/yun/yun-markdown.min.css"><link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/prism-theme-vars/base.css"><script src="https://fastly.jsdelivr.net/npm/scrollreveal/dist/scrollreveal.min.js" defer></script><script>function initScrollReveal() {
  [".post-card",".markdown-body img"].forEach((target)=> {
    ScrollReveal().reveal(target);
  })
}
document.addEventListener("DOMContentLoaded", initScrollReveal);
document.addEventListener("pjax:success", initScrollReveal);
</script><script src="https://fastly.jsdelivr.net/npm/pjax@latest/pjax.min.js" defer></script><script src="/js/pjax.js" defer type="module"></script><script src="https://fastly.jsdelivr.net/npm/vue@2.6.14"></script><link rel="icon" type="image/svg+xml" href="/yun.svg"><link rel="mask-icon" href="/yun.svg" color="#0078E7"><link rel="preload" href="/css/hexo-theme-yun.css" as="style"><link rel="prefetch" href="/js/sidebar.js" as="script"><link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin><link rel="preconnect" href="https://fastly.jsdelivr.net/npm/" crossorigin><script id="yun-config">
    window.Yun = {}
    window.CONFIG = {"hostname":"chenluntian.github.io","root":"/","title":"ä¸šç²¾äºå‹¤ è’äºå¥š","version":"1.10.11","mode":"auto","copycode":true,"page":{"isPost":true},"i18n":{"placeholder":"æœç´¢...","empty":"æ‰¾ä¸åˆ°æ‚¨æŸ¥è¯¢çš„å†…å®¹: ${query}","hits":"æ‰¾åˆ° ${hits} æ¡ç»“æœ","hits_time":"æ‰¾åˆ° ${hits} æ¡ç»“æœï¼ˆç”¨æ—¶ ${time} æ¯«ç§’ï¼‰"},"anonymous_image":"https://cdn.yunyoujun.cn/img/avatar/none.jpg","say":{"api":"https://el-bot-api.vercel.app/api/words/young"},"algolia":{"hits":{"per_page":8}},"fireworks":{"colors":["102, 167, 221","62, 131, 225","33, 78, 194"]},"vendors":{"host":"https://fastly.jsdelivr.net/npm/","darken":"https://fastly.jsdelivr.net/npm/darken@1.5.0"}};
  </script><link rel="stylesheet" href="/css/hexo-theme-yun.css"><script src="/js/hexo-theme-yun.js" type="module"></script><link rel="alternate" href="/atom/atom.xml" title="DaiT Blog" type="application/atom+xml"><link rel="stylesheet" href="/../css/custom.css"><link rel="stylesheet" href="/../images/favicon.ico"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin><script async src="https://www.googletagmanager.com/gtag/js?id=G-1LL0D86CY9"></script><script>if (CONFIG.hostname === location.hostname) {
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-1LL0D86CY9');
}</script><script>//- only for pjax
function sendPageView() {
  if (CONFIG.hostname !== location.hostname) return;
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('event', 'page_view', {
    page_path: encodeURIComponent(location.pathname),
  })
}
document.addEventListener("pjax:success", sendPageView);</script><script data-ad-client="ca-pub-2245427233262012" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>(function(){
  var bp = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  if (curProtocol === 'https') {
    bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
  }
  else {
    bp.src = 'http://push.zhanzhang.baidu.com/push.js';
  }
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(bp, s);
})();</script><!-- Google Tag Manager --><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-M9KWR9L');</script><!-- End Google Tag Manager --><meta name="description" content="ç®€å•ä¸²å£ç¼–å†™1.ui ç•Œé¢çš„åˆ›å»ºæ‰“å¼€Qtæ–°å»ºä¸€ä¸ªå·¥ç¨‹   å·¥ç¨‹å‘½åä¸º **QtSerial** ï¼Œé€‰æ‹©è·¯å¾„æ—¶æ³¨æ„è·¯å¾„**ä¸å¯å‡ºç°ä¸­æ–‡å**ã€‚  è¿™é‡Œé€‰æ‹©é»˜è®¤ï¼Œç‚¹å‡»**ä¸‹ä¸€æ­¥**  è¿™é‡ŒåŸºç±»é€‰æ‹© QWidget,ä¿®æ”¹ç±»åä¸º**MainWidget**ï¼Œç‚¹å‡»**ä¸‹ä¸€æ­¥**  è¿™é‡Œé€‰æ‹©é»˜è®¤ï¼Œç‚¹å‡»**ä¸‹ä¸€æ­¥**  ç¼–è¯‘å¥—ä»¶éšä¾¿é€‰æ‹©ï¼Œåé¢å¯ä»¥éšæ—¶è¿›è¡Œæ›´æ”¹ï¼Œç‚¹å‡»**ä¸‹ä¸€æ­¥**  è¿™é‡Œé€‰æ‹©é»˜è®¤ï¼Œç‚¹å‡»**å®Œæˆ**">
<meta property="og:type" content="article">
<meta property="og:title" content="ç®€å•ä¸²å£ç¼–å†™">
<meta property="og:url" content="https://chenluntian.github.io/posts/e1c9b379">
<meta property="og:site_name" content="DaiT Blog">
<meta property="og:description" content="ç®€å•ä¸²å£ç¼–å†™1.ui ç•Œé¢çš„åˆ›å»ºæ‰“å¼€Qtæ–°å»ºä¸€ä¸ªå·¥ç¨‹   å·¥ç¨‹å‘½åä¸º **QtSerial** ï¼Œé€‰æ‹©è·¯å¾„æ—¶æ³¨æ„è·¯å¾„**ä¸å¯å‡ºç°ä¸­æ–‡å**ã€‚  è¿™é‡Œé€‰æ‹©é»˜è®¤ï¼Œç‚¹å‡»**ä¸‹ä¸€æ­¥**  è¿™é‡ŒåŸºç±»é€‰æ‹© QWidget,ä¿®æ”¹ç±»åä¸º**MainWidget**ï¼Œç‚¹å‡»**ä¸‹ä¸€æ­¥**  è¿™é‡Œé€‰æ‹©é»˜è®¤ï¼Œç‚¹å‡»**ä¸‹ä¸€æ­¥**  ç¼–è¯‘å¥—ä»¶éšä¾¿é€‰æ‹©ï¼Œåé¢å¯ä»¥éšæ—¶è¿›è¡Œæ›´æ”¹ï¼Œç‚¹å‡»**ä¸‹ä¸€æ­¥**  è¿™é‡Œé€‰æ‹©é»˜è®¤ï¼Œç‚¹å‡»**å®Œæˆ**">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://img.daitcc.top:8090/i/2023/11/655f5f775209e.png">
<meta property="og:image" content="https://img.daitcc.top:8090/i/2023/11/655f5f113052b.png">
<meta property="og:image" content="https://img.daitcc.top:8090/i/2023/11/655f5f82894e9.png">
<meta property="og:image" content="https://img.daitcc.top:8090/i/2023/11/655f5f87c2fec.png">
<meta property="og:image" content="https://img.daitcc.top:8090/i/2023/11/655f5f8e5403e.png">
<meta property="og:image" content="https://img.daitcc.top:8090/i/2023/11/655f5f92bac91.png">
<meta property="og:image" content="https://img.daitcc.top:8090/i/2023/11/655f5f96741cf.png">
<meta property="og:image" content="https://img.daitcc.top:8090/i/2023/11/655f5f9ade3a1.png">
<meta property="og:image" content="https://img.daitcc.top:8090/i/2023/11/655f5f9f3ccfb.png">
<meta property="og:image" content="https://img.daitcc.top:8090/i/2023/11/655f5fa4131d1.png">
<meta property="og:image" content="https://img.daitcc.top:8090/i/2023/11/655f5fabf1716.gif">
<meta property="og:image" content="https://img.daitcc.top:8090/i/2023/11/655f5fb1617b0.png">
<meta property="og:image" content="https://img.daitcc.top:8090/i/2023/11/655f5fb621564.png">
<meta property="og:image" content="https://img.daitcc.top:8090/i/2023/11/655f5fbc38d92.png">
<meta property="og:image" content="https://img.daitcc.top:8090/i/2023/11/655f5fc30d31d.png">
<meta property="og:image" content="https://img.daitcc.top:8090/i/2023/11/655f5fc7861c4.png">
<meta property="og:image" content="https://img.daitcc.top:8090/i/2023/11/655f5fcd4a622.png">
<meta property="og:image" content="https://img.daitcc.top:8090/i/2023/11/655f5fd1c94f8.png">
<meta property="og:image" content="https://img.daitcc.top:8090/i/2023/11/655f5fd4b6502.gif">
<meta property="og:image" content="https://img.daitcc.top:8090/i/2023/11/655f5fd9e1f61.png">
<meta property="og:image" content="https://img.daitcc.top:8090/i/2023/11/655f5fdf9558c.png">
<meta property="og:image" content="https://img.daitcc.top:8090/i/2023/11/655f5fe45a532.png">
<meta property="og:image" content="https://img.daitcc.top:8090/i/2023/11/655f5fe8cca0f.png">
<meta property="og:image" content="https://img.daitcc.top:8090/i/2023/11/655f5fedbbb21.png">
<meta property="og:image" content="https://img.daitcc.top:8090/i/2023/11/655f5ff1e403a.png">
<meta property="og:image" content="https://img.daitcc.top:8090/i/2023/11/655f5ff6a6b1d.png">
<meta property="og:image" content="https://img.daitcc.top:8090/i/2023/11/655f5ffa6976f.png">
<meta property="og:image" content="https://img.daitcc.top:8090/i/2023/11/655f60000f066.gif">
<meta property="og:image" content="https://img.daitcc.top:8090/i/2023/11/655f5fe8cca0f.png">
<meta property="og:image" content="https://img.daitcc.top:8090/i/2023/11/655f5fc7861c4.png">
<meta property="og:image" content="https://img.daitcc.top:8090/i/2023/11/655f600fd7459.png">
<meta property="og:image" content="https://img.daitcc.top:8090/i/2023/11/655f60192b5c5.png">
<meta property="og:image" content="https://img.daitcc.top:8090/i/2023/11/655f601e4ea99.gif">
<meta property="og:image" content="https://img.daitcc.top:8090/i/2023/11/655f6023c6f7c.png">
<meta property="og:image" content="https://img.daitcc.top:8090/i/2023/11/655f60285cf0e.png">
<meta property="article:published_time" content="2023-11-24T12:34:39.058Z">
<meta property="article:modified_time" content="2023-11-24T14:38:39.303Z">
<meta property="article:author" content="DaiT">
<meta property="article:tag" content="YunYouJun">
<meta property="article:tag" content="Blog">
<meta property="article:tag" content="DaiT">
<meta property="article:tag" content="åšå®¢">
<meta property="article:tag" content="ä¸šç²¾äºå‹¤ è’äºå¥š">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://img.daitcc.top:8090/i/2023/11/655f5f775209e.png"><script>(function() {
  if (CONFIG.mode !== 'auto') return
  const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches
  const setting = localStorage.getItem('darken-mode') || 'auto'
  if (setting === 'dark' || (prefersDark && setting !== 'light'))
    document.documentElement.classList.toggle('dark', true)
})()</script></head><body><script src="https://code.iconify.design/2/2.1.1/iconify.min.js"></script><script>// Define global variable
IconifyProviders = {
  // Empty prefix: overwrite default API provider configuration
  '': {
    // Use custom API first, use Iconify public API as backup
    resources: [
        'https://api.iconify.design',
    ],
    // Wait for 1 second before switching API hosts
    rotate: 1000,
  },
};</script><script defer src="https://fastly.jsdelivr.net/npm/animejs@latest"></script><script defer src="/js/ui/fireworks.js" type="module"></script><canvas class="fireworks"></canvas><div class="container"><a class="sidebar-toggle hty-icon-button" id="menu-btn"><div class="hamburger hamburger--spin" type="button"><span class="hamburger-box"><span class="hamburger-inner"></span></span></div></a><div class="sidebar-toggle sidebar-overlay"></div><aside class="sidebar"><script src="/js/sidebar.js" type="module"></script><ul class="sidebar-nav"><li class="sidebar-nav-item sidebar-nav-toc hty-icon-button sidebar-nav-active" data-target="post-toc-wrap" title="æ–‡ç« ç›®å½•"><span class="icon iconify" data-icon="ri:list-ordered"></span></li><li class="sidebar-nav-item sidebar-nav-overview hty-icon-button" data-target="site-overview-wrap" title="ç«™ç‚¹æ¦‚è§ˆ"><span class="icon iconify" data-icon="ri:passport-line"></span></li></ul><div class="sidebar-panel" id="site-overview-wrap"><div class="site-info fix-top"><a class="site-author-avatar" href="/about/" title="DaiT"><img width="96" loading="lazy" src="/../images/avatar.jpg" alt="DaiT"><span class="site-author-status" title="Looking for dawn.">ğŸŒ‘</span></a><div class="site-author-name"><a href="/about/">DaiT</a></div><span class="site-name">DaiT Blog</span><sub class="site-subtitle">All at sea.</sub><div class="site-description">å¸Œæœ›èƒ½æˆä¸ºä¸€ä¸ªæœ‰è¶£çš„äºº</div></div><nav class="site-state"><a class="site-state-item hty-icon-button icon-home" href="/" title="é¦–é¡µ"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:home-4-line"></span></span></a><div class="site-state-item"><a href="/archives/" title="å½’æ¡£"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:archive-line"></span></span><span class="site-state-item-count">3</span></a></div><div class="site-state-item"><a href="/categories/" title="åˆ†ç±»"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:folder-2-line"></span></span><span class="site-state-item-count">0</span></a></div><div class="site-state-item"><a href="/tags/" title="æ ‡ç­¾"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:price-tag-3-line"></span></span><span class="site-state-item-count">0</span></a></div><a class="site-state-item hty-icon-button" href="/about/#comment" title="ç•™è¨€æ¿"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:clipboard-line"></span></span></a></nav><hr style="margin-bottom:0.5rem"><div class="links-of-author"><a class="links-of-author-item hty-icon-button" rel="noopener" href="../atom/atom.xml" title="RSS" target="_blank" style="color:orange"><span class="icon iconify" data-icon="ri:rss-line"></span></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://github.com/chenlunTian" title="GitHub" target="_blank" style="color:#6e5494"><span class="icon iconify" data-icon="ri:github-line"></span></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="../images/white-qrcode-and-search.png" title="å¾®ä¿¡å…¬ä¼—å·" target="_blank" style="color:#1AAD19"><span class="icon iconify" data-icon="ri:wechat-2-line"></span></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="mailto:354769733@qq.com" title="E-Mail" target="_blank" style="color:#8E71C1"><span class="icon iconify" data-icon="ri:mail-line"></span></a></div><hr style="margin:0.5rem 1rem"><div class="links"><a class="links-item hty-icon-button" href="/links/" title="æˆ‘çš„å°ä¼™ä¼´ä»¬" style="color:dodgerblue"><span class="icon iconify" data-icon="ri:genderless-line"></span></a><a class="links-item hty-icon-button" href="/girls/" title="å–œæ¬¢çš„å¥³å­©å­" style="color:hotpink"><span class="icon iconify" data-icon="ri:women-line"></span></a></div><br><a class="links-item hty-icon-button" id="toggle-mode-btn" href="javascript:;" title="Mode" style="color: #f1cb64"><span class="icon iconify" data-icon="ri:contrast-2-line"></span></a></div><div class="sidebar-panel sidebar-panel-active" id="post-toc-wrap"><div class="post-toc"><div class="post-toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AE%80%E5%8D%95%E4%B8%B2%E5%8F%A3%E7%BC%96%E5%86%99"><span class="toc-number">1.</span> <span class="toc-text">ç®€å•ä¸²å£ç¼–å†™</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-ui-%E7%95%8C%E9%9D%A2%E7%9A%84%E5%88%9B%E5%BB%BA"><span class="toc-number">1.1.</span> <span class="toc-text">1.ui ç•Œé¢çš„åˆ›å»º</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%80%E7%BB%88%E7%95%8C%E9%9D%A2%E5%B1%95%E7%A4%BA%E5%9B%BE"><span class="toc-number">1.1.1.</span> <span class="toc-text">æœ€ç»ˆç•Œé¢å±•ç¤ºå›¾</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%95%8C%E9%9D%A2%E6%95%88%E6%9E%9C%E5%B1%95%E7%A4%BA%E5%9B%BE-Windows-%E5%B9%B3%E5%8F%B0"><span class="toc-number">1.1.2.</span> <span class="toc-text">ç•Œé¢æ•ˆæœå±•ç¤ºå›¾(Windows å¹³å°)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-QSerialPort%E6%A8%A1%E5%9D%97%E4%BB%8B%E7%BB%8D"><span class="toc-number">1.2.</span> <span class="toc-text">2.QSerialPortæ¨¡å—ä»‹ç»</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#QT%E7%9A%84QtSerialPort%E6%A8%A1%E5%9D%97"><span class="toc-number">1.2.1.</span> <span class="toc-text">QTçš„QtSerialPortæ¨¡å—</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#QtSerialPort%E6%A8%A1%E5%9D%97%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95"><span class="toc-number">1.2.2.</span> <span class="toc-text">QtSerialPortæ¨¡å—ä½¿ç”¨æ–¹æ³•</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E4%B8%B2%E5%8F%A3%E5%8F%82%E6%95%B0"><span class="toc-number">1.2.3.</span> <span class="toc-text">é…ç½®ä¸²å£å‚æ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E5%8F%91%E9%80%81%E5%92%8C%E6%8E%A5%E6%94%B6%E5%87%BD%E6%95%B0"><span class="toc-number">1.2.4.</span> <span class="toc-text">é…ç½®å‘é€å’Œæ¥æ”¶å‡½æ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E7%BC%96%E7%A0%81%E6%A0%BC%E5%BC%8F%E5%87%BD%E6%95%B0"><span class="toc-number">1.2.5.</span> <span class="toc-text">é…ç½®ç¼–ç æ ¼å¼å‡½æ•°</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E7%BA%BF%E7%A8%8B%E7%B1%BB%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%B7%BB%E5%8A%A0%E5%92%8CUI%E7%95%8C%E9%9D%A2%E7%9A%84%E5%8F%82%E6%95%B0%E8%AE%BE%E7%BD%AE"><span class="toc-number">1.3.</span> <span class="toc-text">3.çº¿ç¨‹ç±»å¯¹è±¡çš„æ·»åŠ å’ŒUIç•Œé¢çš„å‚æ•°è®¾ç½®</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0%E4%BB%BB%E5%8A%A1%E7%B1%BB%E5%AF%B9%E8%B1%A1%E5%92%8C%E7%BA%BF%E7%A8%8B%E7%B1%BB%E5%AF%B9%E8%B1%A1"><span class="toc-number">1.3.1.</span> <span class="toc-text">æ·»åŠ ä»»åŠ¡ç±»å¯¹è±¡å’Œçº¿ç¨‹ç±»å¯¹è±¡</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9D%E5%A7%8B%E5%8C%96ui%E7%95%8C%E9%9D%A2%E5%8F%82%E6%95%B0"><span class="toc-number">1.3.2.</span> <span class="toc-text">åˆå§‹åŒ–uiç•Œé¢å‚æ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A9%E7%94%A8QSerialPortInfo%E5%BE%97%E5%88%B0%E4%B8%B2%E5%8F%A3%E5%8F%B7"><span class="toc-number">1.3.3.</span> <span class="toc-text">åˆ©ç”¨QSerialPortInfoå¾—åˆ°ä¸²å£å·</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-%E9%85%8D%E7%BD%AEUI%E7%95%8C%E9%9D%A2%E7%9A%84%E4%B8%B2%E5%8F%A3%E6%89%93%E5%BC%80%E5%92%8C%E5%85%B3%E9%97%AD"><span class="toc-number">1.4.</span> <span class="toc-text">4.é…ç½®UIç•Œé¢çš„ä¸²å£æ‰“å¼€å’Œå…³é—­</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE%E4%B8%B2%E5%8F%A3%E5%8F%82%E6%95%B0%E9%85%8D%E7%BD%AE%E6%95%B0%E7%BB%84"><span class="toc-number">1.4.1.</span> <span class="toc-text">è®¾ç½®ä¸²å£å‚æ•°é…ç½®æ•°ç»„</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE%E6%89%93%E5%BC%80%E4%B8%B2%E5%8F%A3%E5%92%8C%E5%85%B3%E9%97%AD%E4%B8%B2%E5%8F%A3%E6%8C%89%E9%92%AE"><span class="toc-number">1.4.2.</span> <span class="toc-text">è®¾ç½®æ‰“å¼€ä¸²å£å’Œå…³é—­ä¸²å£æŒ‰é’®</span></a></li></ol></li></ol></li></ol></div></div></div></aside><main class="sidebar-translate" id="content"><div id="post"><article class="hty-card post-block" itemscope itemtype="https://schema.org/Article" style="--smc-primary:#0078E7;"><link itemprop="mainEntityOfPage" href="https://chenluntian.github.io/posts/e1c9b379"><span hidden itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="name" content="DaiT"><meta itemprop="description"></span><span hidden itemprop="publisher" itemscope itemtype="https://schema.org/Organization"><meta itemprop="name" content="DaiT Blog"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">ç®€å•ä¸²å£ç¼–å†™</h1><div class="post-meta"><div class="post-time" style="display:block"><span class="post-meta-item-icon"><span class="icon iconify" data-icon="ri:calendar-line"></span></span> <time title="åˆ›å»ºæ—¶é—´ï¼š2023-11-24 20:34:39" itemprop="dateCreated datePublished" datetime="2023-11-24T20:34:39+08:00">2023-11-24</time></div><span class="post-count"><span class="post-symbolcount"><span class="post-meta-item-icon" title="æœ¬æ–‡å­—æ•°"><span class="icon iconify" data-icon="ri:file-word-line"></span></span> <span title="æœ¬æ–‡å­—æ•°">7k</span><span class="post-meta-divider">-</span><span class="post-meta-item-icon" title="é˜…è¯»æ—¶é•¿"><span class="icon iconify" data-icon="ri:timer-line"></span></span> <span title="é˜…è¯»æ—¶é•¿">31m</span></span></span><div class="post-classify"></div></div></header><section class="post-body" itemprop="articleBody"><div class="post-content markdown-body"><h1 id="ç®€å•ä¸²å£ç¼–å†™"><a href="#ç®€å•ä¸²å£ç¼–å†™" class="headerlink" title="ç®€å•ä¸²å£ç¼–å†™"></a>ç®€å•ä¸²å£ç¼–å†™</h1><h2 id="1-ui-ç•Œé¢çš„åˆ›å»º"><a href="#1-ui-ç•Œé¢çš„åˆ›å»º" class="headerlink" title="1.ui ç•Œé¢çš„åˆ›å»º"></a>1.ui ç•Œé¢çš„åˆ›å»º</h2><p>æ‰“å¼€<strong>Qt</strong>æ–°å»ºä¸€ä¸ªå·¥ç¨‹</p>
<img src="https://img.daitcc.top:8090/i/2023/11/655f5f775209e.png"/ loading="lazy">
<img src="https://img.daitcc.top:8090/i/2023/11/655f5f113052b.png"/ loading="lazy">
å·¥ç¨‹å‘½åä¸º **QtSerial** ï¼Œé€‰æ‹©è·¯å¾„æ—¶æ³¨æ„è·¯å¾„**ä¸å¯å‡ºç°ä¸­æ–‡å**ã€‚
<img src="https://img.daitcc.top:8090/i/2023/11/655f5f82894e9.png"/ loading="lazy">
è¿™é‡Œé€‰æ‹©é»˜è®¤ï¼Œç‚¹å‡»**ä¸‹ä¸€æ­¥**
<img src="https://img.daitcc.top:8090/i/2023/11/655f5f87c2fec.png"/ loading="lazy">
è¿™é‡ŒåŸºç±»é€‰æ‹© QWidget,ä¿®æ”¹ç±»åä¸º**MainWidget**ï¼Œç‚¹å‡»**ä¸‹ä¸€æ­¥**
<img src="https://img.daitcc.top:8090/i/2023/11/655f5f8e5403e.png"/ loading="lazy">
è¿™é‡Œé€‰æ‹©é»˜è®¤ï¼Œç‚¹å‡»**ä¸‹ä¸€æ­¥**
<img src="https://img.daitcc.top:8090/i/2023/11/655f5f92bac91.png"/ loading="lazy">
ç¼–è¯‘å¥—ä»¶éšä¾¿é€‰æ‹©ï¼Œåé¢å¯ä»¥éšæ—¶è¿›è¡Œæ›´æ”¹ï¼Œç‚¹å‡»**ä¸‹ä¸€æ­¥**
<img src="https://img.daitcc.top:8090/i/2023/11/655f5f96741cf.png"/ loading="lazy">
è¿™é‡Œé€‰æ‹©é»˜è®¤ï¼Œç‚¹å‡»**å®Œæˆ**
<img src="https://img.daitcc.top:8090/i/2023/11/655f5f9ade3a1.png"/ loading="lazy">

<p>è¿›å…¥å·¥ç¨‹ï¼ŒåŒå‡»<strong>MainWidget.ui</strong>ç¼–è¾‘uiæ–‡ä»¶ï¼ˆè¿™é‡Œæˆ‘ä»¬é€šè¿‡Qtçš„UIç•Œé¢ç¼–è¾‘å™¨æ¥è®¾è®¡uiç•Œé¢ï¼Œä¸ä»¥çº¯ä»£ç çš„å½¢å¼æ¥è¿›è¡Œç•Œé¢çš„è®¾è®¡ã€‚ï¼‰<br><img src="https://img.daitcc.top:8090/i/2023/11/655f5f9f3ccfb.png"/ loading="lazy"><br>æ‹–æ‹½åˆé€‚çš„æ§ä»¶å®Œå–„å¸ƒå±€ã€‚</p>
<ul>
<li>æ‹–æ‹½<strong>Tab Widget</strong>ï¼Œå¹¶ä¿®æ”¹ç¬¬ 1 é¡µä¸ºâ€œ<strong>ä¸²å£åŠ©æ‰‹</strong>â€ï¼Œç¬¬ 2 é¡µä¸ºâ€œ<strong>å…³äº</strong>â€<br><img src="https://img.daitcc.top:8090/i/2023/11/655f5fa4131d1.png" alt="image-20210923213127836" loading="lazy"></li>
<li>æ“ä½œæ–¹æ³•å¦‚ä¸‹ï¼ˆåŠ¨å›¾å±•ç¤ºï¼‰<br><img src="https://img.daitcc.top:8090/i/2023/11/655f5fabf1716.gif" alt="1" loading="lazy"></li>
</ul>
<p>å®Œå–„å…¶ä»–æ§ä»¶çš„æ‹–æ‹½ï¼Œå®Œæ•´ UI æ–‡ä»¶å¯ä»¥åˆ°æ­¤å¤„ä¸‹è½½<a target="_blank" rel="noopener" href="https://pan.baidu.com/s/1szEDoUIcotu8rehDhAvfvg" title="æå–ç ï¼šh7po">æå–ç ï¼šh7po</a>ã€‚</p>
<h3 id="æœ€ç»ˆç•Œé¢å±•ç¤ºå›¾"><a href="#æœ€ç»ˆç•Œé¢å±•ç¤ºå›¾" class="headerlink" title="æœ€ç»ˆç•Œé¢å±•ç¤ºå›¾"></a>æœ€ç»ˆç•Œé¢å±•ç¤ºå›¾</h3><p><img src="https://img.daitcc.top:8090/i/2023/11/655f5fb1617b0.png" alt="image-20211024114809591" loading="lazy"></p>
<h3 id="ç•Œé¢æ•ˆæœå±•ç¤ºå›¾-Windows-å¹³å°"><a href="#ç•Œé¢æ•ˆæœå±•ç¤ºå›¾-Windows-å¹³å°" class="headerlink" title="ç•Œé¢æ•ˆæœå±•ç¤ºå›¾(Windows å¹³å°)"></a>ç•Œé¢æ•ˆæœå±•ç¤ºå›¾(Windows å¹³å°)</h3><p><img src="https://img.daitcc.top:8090/i/2023/11/655f5fb621564.png" alt="image-20211024114925843" loading="lazy"></p>
<h2 id="2-QSerialPortæ¨¡å—ä»‹ç»"><a href="#2-QSerialPortæ¨¡å—ä»‹ç»" class="headerlink" title="2.QSerialPortæ¨¡å—ä»‹ç»"></a>2.QSerialPortæ¨¡å—ä»‹ç»</h2><h3 id="QTçš„QtSerialPortæ¨¡å—"><a href="#QTçš„QtSerialPortæ¨¡å—" class="headerlink" title="QTçš„QtSerialPortæ¨¡å—"></a>QTçš„QtSerialPortæ¨¡å—</h3><p>Qtä¸­æä¾›äº†ä¸¤ä¸ªC++ç±»ï¼Œåˆ†åˆ«æ˜¯<strong>QSerialPort</strong> å’Œ<strong>QSerialPortInfo</strong>ã€‚</p>
<p>å®ƒä»¬åŠŸèƒ½å¦‚ä¸‹ï¼š</p>
<p> <strong>QSerialPort</strong> ï¼šæä¾›äº†æ“ä½œä¸²å£çš„å„ç§æ¥å£ã€‚</p>
<p> <strong>QSerialPortInfo</strong> ï¼šå¯ä»¥æä¾›è®¡ç®—æœºä¸­å¯ç”¨ä¸²å£çš„å„ç§ä¿¡æ¯ã€‚</p>
<h3 id="QtSerialPortæ¨¡å—ä½¿ç”¨æ–¹æ³•"><a href="#QtSerialPortæ¨¡å—ä½¿ç”¨æ–¹æ³•" class="headerlink" title="QtSerialPortæ¨¡å—ä½¿ç”¨æ–¹æ³•"></a>QtSerialPortæ¨¡å—ä½¿ç”¨æ–¹æ³•</h3><p> é¦–å…ˆï¼Œéœ€è¦åœ¨proæ–‡ä»¶ä¸­å¢åŠ å¦‚ä¸‹å†…å®¹ï¼š</p>
<pre class="language-cpp" data-language="cpp"><code class="language-cpp">QT +&#x3D; serialport    </code></pre>

<p>ç„¶åæ‰§è¡Œ<strong>qmake</strong>ï¼Œå¦‚æœæœªæ‰§è¡Œ åé¢æ·»åŠ å¤´æ–‡ä»¶æ—¶ä¼šæŠ¥é”™ã€‚</p>
<p><img src="https://img.daitcc.top:8090/i/2023/11/655f5fbc38d92.png" alt="image-20211005013634387" loading="lazy"></p>
<p>ç»™é¡¹ç›®æ·»åŠ æ–°çš„**C++**ç±»ï¼Œ</p>
<img src="https://img.daitcc.top:8090/i/2023/11/655f5fc30d31d.png" alt="image-20211027145302605" style="zoom:50%; "  / loading="lazy">

<p>é€‰æ‹©<strong>C++ Class</strong></p>
<p><img src="https://img.daitcc.top:8090/i/2023/11/655f5fc7861c4.png" loading="lazy"></p>
<p> å–å<strong>Serial</strong>ï¼Œç‚¹å‡»<strong>ä¸‹ä¸€æ­¥</strong>å³å¯ç”Ÿæˆå¯¹åº”çš„æ–‡ä»¶<img src="https://img.daitcc.top:8090/i/2023/11/655f5fcd4a622.png" alt="image-20211005014205307" loading="lazy"></p>
<p>åœ¨ç”Ÿæˆçš„<strong>serial.h</strong>ä¸­è¿›è¡Œå¦‚ä¸‹æ“ä½œ</p>
<pre class="language-cpp" data-language="cpp"><code class="language-cpp">#ifndef SERIAL_H
#define SERIAL_H

#include &lt;QObject&gt;
#include &lt;QSerialPort&gt;       &#x2F;&#x2F;æ·»åŠ ä¸²å£ç±»çš„å¤´æ–‡ä»¶
#include &lt;QSerialPortInfo&gt;	 &#x2F;&#x2F;æ·»åŠ ä¸²å£ä¿¡æ¯çš„å¤´æ–‡ä»¶

class Serial : public QObject
&#123;
    Q_OBJECT
public:
    explicit Serial(QObject *parent &#x3D; nullptr);
    ~Serial(void);			&#x2F;&#x2F;æ·»åŠ ææ„å‡½æ•°
    void SerialOpen();		&#x2F;&#x2F;æ·»åŠ æ‰“å¼€ä¸²å£å‡½æ•°
    void SerialClose();		&#x2F;&#x2F;æ·»åŠ å…³é—­ä¸²å£å‡½æ•°
private:
    QSerialPort* MySerial;  &#x2F;&#x2F;æ·»åŠ ä¸²å£ç±»æˆå‘˜

signals:
    void SetInfo(QString info);
    void isnoSerialOpen();
&#125;;

#endif &#x2F;&#x2F; SERIAL_H

</code></pre>

<p>åˆ†åˆ«å°†å…‰æ ‡ç½®äºå‡½æ•°åé¢ æŒ‰ä¸‹å¿«æ·é”® <kbd>alt</kbd> + <kbd>enter</kbd> </p>
<pre class="language-c++" data-language="c++"><code class="language-c++">~Serial(void);			&#x2F;&#x2F;æ·»åŠ ææ„å‡½æ•°
void SerialOpen();		&#x2F;&#x2F;æ·»åŠ æ‰“å¼€ä¸²å£å‡½æ•°
void SerialClose();		&#x2F;&#x2F;æ·»åŠ å…³é—­ä¸²å£å‡½æ•°</code></pre>

<p>å‡ºç°ä»¥ä¸‹å›¾ç‰‡æ—¶ <strong>å›è½¦</strong> å³å¯åœ¨ <strong>cpp</strong> æ–‡ä»¶ä¸­å®šä¹‰å‡½æ•°ã€‚<br><img src="https://img.daitcc.top:8090/i/2023/11/655f5fd1c94f8.png" alt="image-20211024112606270" loading="lazy"></p>
<p>åŠ¨å›¾å±•ç¤ºã€‚</p>
<p><img src="https://img.daitcc.top:8090/i/2023/11/655f5fd4b6502.gif" loading="lazy"></p>
<blockquote>
<p>~Serial(void);  ç”¨æ¥<strong>delete</strong> ä¹‹åç¨‹åºä¸­ <strong>new</strong>å‡ºæ¥çš„å˜é‡</p>
<p>void SerialOpen();å’Œ void SerialClose();åˆ™æ˜¯ç”¨æ¥è¿›è¡Œæ‰“å¼€ä¸²å£çš„æ“ä½œã€‚</p>
</blockquote>
<p>é¦–å…ˆåœ¨ <strong>cpp</strong> æ–‡ä»¶ä¸­ å¯¹<strong>MySerial</strong>è¿›è¡Œå®ä¾‹åŒ–ã€‚</p>
<p><img src="https://img.daitcc.top:8090/i/2023/11/655f5fd9e1f61.png" alt="image-20211027151715679" loading="lazy"></p>
<p>ç„¶åï¼Œé¼ æ ‡æ”¾åœ¨<strong>MySerial</strong>ä¸ŠæŒ‰ä¸‹å¿«æ·é”®<kbd>F1</kbd>,æ‰“å¼€<strong>QSerialPort</strong>çš„å¸®åŠ©æ–‡æ¡£ã€‚æ‰¾åˆ°<strong>Public Functions</strong></p>
<p><img src="https://img.daitcc.top:8090/i/2023/11/655f5fdf9558c.png" alt="image-20211027152623327" loading="lazy"></p>
<p>æ‰“å¼€<strong>Detailed Description</strong><br><img src="https://img.daitcc.top:8090/i/2023/11/655f5fe45a532.png" alt="image-20211027153753566" loading="lazy"></p>
<p>ä»å¸®åŠ©æ–‡æ¡£ä¸­å¯ä»¥çœ‹å‡ºæ¥ï¼Œæˆ‘ä»¬éœ€è¦å¯¹ä¸²å£è¿›è¡Œçš„ä¸€äº›é…ç½®ã€‚</p>
<h3 id="é…ç½®ä¸²å£å‚æ•°"><a href="#é…ç½®ä¸²å£å‚æ•°" class="headerlink" title="é…ç½®ä¸²å£å‚æ•°"></a>é…ç½®ä¸²å£å‚æ•°</h3><p>æ“ä½œæ­¥éª¤å¦‚ä¸‹ï¼š</p>
<blockquote>
<p>1.é¦–å…ˆéœ€è¦è®¾ç½®è¦æ‰“å¼€çš„ä¸²å£åï¼Œè¿™é‡Œå¯ä»¥é€šè¿‡**setPortName()<strong>æˆ–è€…</strong>setPort()**è¿›è¡Œé…ç½®</p>
<p>2.ç„¶åé€šè¿‡ä½¿ç”¨open()å‡½æ•°ä»¥ read-only (r&#x2F;o), write-only (w&#x2F;o), or read-write (r&#x2F;w) æ¨¡å¼ä¹‹ä¸€æ‰“å¼€ä¸²å£</p>
<p>3.ç„¶åï¼Œæ£€æµ‹ä¸²å£æ˜¯å¦è¢«æ‰“å¼€ (ä¸”æ²¡æœ‰å…¶ä»–çš„è¿›ç¨‹æˆ–è€…çº¿ç¨‹æ‰“å¼€ä¸²å£ï¼Œå¦‚æœæœ‰å°±å…³é—­ä¸²å£åœ¨é‡æ–°æ‰“å¼€)</p>
<p>4.æœ€åï¼Œé…ç½®ä¸²å£å‚æ•°å¦‚é…ç½®ä¸²å£åï¼Œæ³¢ç‰¹ç‡ï¼Œæ•°æ®ä½ï¼Œæ ¡éªŒä½ï¼Œåœæ­¢ä½å’Œæµæ§ä½</p>
</blockquote>
<p>é…ç½®å‡½æ•°å¦‚ä¸‹ï¼š</p>
<pre class="language-cpp" data-language="cpp"><code class="language-cpp">void setPortName(const QString &amp;name) 
bool setBaudRate(qint32 baudRate, QSerialPort::Directions directions &#x3D; AllDirections)
bool setDataBits(QSerialPort::DataBits dataBits)
bool setParity(QSerialPort::Parity parity)
bool setStopBits(QSerialPort::StopBits stopBits)
bool setFlowControl(QSerialPort::FlowControl flowControl)</code></pre>

<p>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦<strong>QString</strong>å’Œ<strong>qint32</strong>è¿™ä¸¤ä¸ªç±»å‹çš„<strong>name</strong>å‚æ•°å’Œ<strong>baudRate</strong>å‚æ•°ï¼Œè¿™æ˜¯é€šè¿‡<strong>ui</strong>ç•Œé¢çš„<strong>Qcombobox</strong>é€‰é¡¹å¾—åˆ°çš„ã€‚å› ä¸ºä½¿ç”¨<strong>å¤šçº¿ç¨‹</strong>çš„åŸå› ï¼Œä¸èƒ½ç›´æ¥è°ƒç”¨ï¼Œæ‰€ä»¥ï¼Œè¿™é‡Œé€šè¿‡æ„å»º<strong>ç»“æ„ä½“</strong>ï¼Œé€šè¿‡ä¼ é€’<strong>ç»“æ„ä½“</strong>æ¥ä¼ é€’å‚æ•°ã€‚</p>
<p>é¼ æ ‡å³é”®ç‚¹å‡»å·¥ç¨‹ï¼Œæ·»åŠ ä¸€ä¸ªæ–°çš„<strong>cpp</strong>å¤´æ–‡ä»¶</p>
<p><img src="https://img.daitcc.top:8090/i/2023/11/655f5fe8cca0f.png" loading="lazy"></p>
<p><img src="https://img.daitcc.top:8090/i/2023/11/655f5fedbbb21.png" alt="image-20211027193012335" loading="lazy"></p>
<p>è®¾ç½®å¤´æ–‡ä»¶åç§°ä¸º <strong>SerialInfo.h</strong> ï¼Œç‚¹å‡»<strong>ä¸‹ä¸€æ­¥</strong>ï¼Œå®Œæˆã€‚</p>
<p><img src="https://img.daitcc.top:8090/i/2023/11/655f5ff1e403a.png" alt="image-20211027193154402" loading="lazy"></p>
<p>æ·»åŠ  <strong>SerialInfo.h</strong>çš„å†…å®¹å¦‚ä¸‹ã€‚</p>
<pre class="language-c" data-language="c"><code class="language-c">#ifndef SERIALINFO_H
#define SERIALINFO_H
#include &lt;QVector&gt;
#include &lt;QMetaType&gt;

typedef struct SerialInfos         &#x2F;&#x2F;ä¸²å£é…ç½®ä¿¡æ¯
&#123;
     QString comName;    &#x2F;&#x2F;ä¸²å£åç§°
     qint32 baudRate;     &#x2F;&#x2F;æ³¢ç‰¹ç‡
     qint32 dataBits;     &#x2F;&#x2F;æ•°æ®ä½
     qint32 parity;       &#x2F;&#x2F;æ ¡éªŒä½
     qint32 stopBits;     &#x2F;&#x2F;åœæ­¢ä½
     qint32 flowControl;  &#x2F;&#x2F;æµæ§ä½
     qint32 Encode;       &#x2F;&#x2F;ç¼–ç æ ¼å¼

&#125;Sinfo;


&#x2F;&#x2F;é€šè¿‡Q_DECLARE_METATYPEå£°æ˜åï¼Œå°±å¯ä»¥è®©è‡ªå®šä¹‰çš„ç±»å‹è®¾ç½®åˆ°QVariantã€‚
Q_DECLARE_METATYPE(Sinfo);

#endif &#x2F;&#x2F; SERIALINFO_H
</code></pre>

<p>åœ¨<strong>serial.h</strong>ä¸­æ·»åŠ å¤´æ–‡ä»¶ </p>
<pre class="language-cpp" data-language="cpp"><code class="language-cpp">#include &quot;SerialInfo.h&quot;</code></pre>

<p><img src="https://img.daitcc.top:8090/i/2023/11/655f5ff6a6b1d.png" alt="image-20211027194025777" loading="lazy"></p>
<p>å¹¶æ·»åŠ ç§æœ‰æˆå‘˜</p>
<pre class="language-cpp" data-language="cpp"><code class="language-cpp">private:
    QSerialPort* MySerial;
    Sinfo *info&#x3D;nullptr;    &#x2F;&#x2F;ä¸²å£é…ç½®
	QString InfoSet;        &#x2F;&#x2F;å­˜å‚¨ä¸²å£é…ç½®</code></pre>

<p><img src="https://img.daitcc.top:8090/i/2023/11/655f5ffa6976f.png" alt="image-20211027194229817" loading="lazy"></p>
<p>ä¿®æ”¹åçš„<strong>serial.h</strong>å†…å®¹å¦‚ä¸‹</p>
<pre class="language-cpp" data-language="cpp"><code class="language-cpp">#ifndef SERIAL_H
#define SERIAL_H

#include &lt;QObject&gt;
#include &lt;QSerialPort&gt;       &#x2F;&#x2F;æ·»åŠ ä¸²å£ç±»çš„å¤´æ–‡ä»¶
#include &lt;QSerialPortInfo&gt;	 &#x2F;&#x2F;æ·»åŠ ä¸²å£ä¿¡æ¯çš„å¤´æ–‡ä»¶
#include &quot;SerialInfo.h&quot;

class Serial : public QObject
&#123;
    Q_OBJECT
public:
    explicit Serial(QObject *parent &#x3D; nullptr);
    ~Serial(void);			&#x2F;&#x2F;æ·»åŠ ææ„å‡½æ•°
    void SerialOpen();		&#x2F;&#x2F;æ·»åŠ æ‰“å¼€ä¸²å£å‡½æ•°
    void SerialClose();		&#x2F;&#x2F;æ·»åŠ å…³é—­ä¸²å£å‡½æ•°
private:
    QSerialPort* MySerial;  &#x2F;&#x2F;æ·»åŠ ä¸²å£ç±»æˆå‘˜
    Sinfo *info&#x3D;nullptr;    &#x2F;&#x2F;ä¸²å£é…ç½®
    QString InfoSet;        &#x2F;&#x2F;å­˜å‚¨ä¸²å£é…ç½®
signals:
    void SetInfo(QString info); &#x2F;&#x2F;å‘é€ä¸²å£é…ç½®ä¿¡å·
    void isnoSerialOpen();	&#x2F;&#x2F;å‘é€ä¸²å£æ‰“å¼€å¤±è´¥ä¿¡å·
&#125;;

#endif &#x2F;&#x2F; SERIAL_H
</code></pre>

<p>æ¥ä¸‹æ¥åœ¨SerialOpenä¸­æ“ä½œã€‚</p>
<p>é¦–å…ˆåˆ¤æ–­ä¸²å£æ˜¯å¦æ‰“å¼€ï¼Œå¦‚æœå·²ç»æ‰“å¼€å°±å…³é—­ã€‚è¿™é‡Œè°ƒç”¨SerialClose()ï¼ˆå…·ä½“å†…å®¹è§ä¸‹é¢SerialCloseéƒ¨åˆ†ï¼‰</p>
<pre class="language-cpp" data-language="cpp"><code class="language-cpp">this-&gt;SerialClose();</code></pre>

<p>ç„¶åè®¾ç½®ä¸²å£å</p>
<pre class="language-cpp" data-language="cpp"><code class="language-cpp">MySerial-&gt;setPortName(QString(info-&gt;comName));</code></pre>

<p>ç„¶åè®¾ç½®ä¸²å£æ‰“å¼€æ¨¡å¼ï¼ŒR&#x2F;Wæ¨¡å¼ï¼Œå¦‚æœè®¾ç½®å¤±è´¥å‘é€é”™è¯¯ä¿¡æ¯ï¼Œç„¶åè¿”å›ã€‚</p>
<pre class="language-cpp" data-language="cpp"><code class="language-cpp">if(!MySerial-&gt;open(QIODevice::ReadWrite))&#x2F;&#x2F;ç”¨ReadWrite çš„æ¨¡å¼å°è¯•æ‰“å¼€ä¸²å£
    &#123;
        emit isnoSerialOpen();  &#x2F;&#x2F;å‘é€æ‰“å¼€å¤±è´¥çš„æ ‡å¿—
        return;
    &#125;</code></pre>

<blockquote>
<p>å…¶ä¸­isnoSerialOpen()ä¸ºè®¾ç½®çš„å‘é€æ‰“å¼€å¤±è´¥ä¿¡å·ã€‚</p>
</blockquote>
<p>ç„¶åè®¾ç½®æ³¢ç‰¹ç‡ï¼Œæ³¢ç‰¹ç‡é€šè¿‡<strong>info-&gt;baudRate</strong>è®¾ç½®</p>
<pre class="language-cpp" data-language="cpp"><code class="language-cpp">MySerial-&gt;setBaudRate(qint32(info-&gt;baudRate));</code></pre>

<p>è®¾ç½®æ•°æ®ä½ï¼Œè¿™é‡Œé€šè¿‡switchå‡½æ•°è®¾ç½®ï¼Œå…¶ä¸­setDataBits();ä¸­çš„å‚æ•°é€šè¿‡ä½¿ç”¨<kbd>F1</kbd>æŸ¥çœ‹ï¼Œå…·ä½“æ“ä½œæ­¥éª¤å¦‚ä¸‹ã€‚</p>
<p><img src="https://img.daitcc.top:8090/i/2023/11/655f60000f066.gif" loading="lazy"></p>
<p>ä½¿ç”¨åŒæ ·çš„æ–¹æ³•è®¾ç½®æ£€éªŒä½ã€åœæ­¢ä½å’Œæµæ§ä½ã€‚</p>
<p>åœ¨**SerialOpen()**ä¸­å®ç°ä¸Šè¿°æ“ä½œæ­¥éª¤ï¼Œå…·ä½“ä»£ç å¦‚ä¸‹ï¼š</p>
<pre class="language-cpp" data-language="cpp"><code class="language-cpp">void Serial::SerialOpen()
&#123;
    this-&gt;SerialClose();
    MySerial-&gt;setPortName(QString(info-&gt;comName));
    InfoSet&#x3D;QString::fromLocal8Bit(&quot;ä¸²å£:&quot;); &#x2F;&#x2F;InfoSetå­˜å‚¨ä¸²å£è®¾ç½®ä¿¡æ¯ï¼Œå‘é€ç»™mainWidget
    InfoSet.append(QString(info-&gt;comName));
    if(!MySerial-&gt;open(QIODevice::ReadWrite))&#x2F;&#x2F;ç”¨ReadWrite çš„æ¨¡å¼å°è¯•æ‰“å¼€ä¸²å£
    &#123;
        emit isnoSerialOpen();  &#x2F;&#x2F;å‘é€æ‰“å¼€å¤±è´¥çš„æ ‡å¿—
        return;
    &#125;
    &#x2F;&#x2F;è®¾ç½®æ³¢ç‰¹ç‡
    bool Bflag &#x3D; MySerial-&gt;setBaudRate(qint32(info-&gt;baudRate));
        if(Bflag)&#123;
            InfoSet.append(QString::fromLocal8Bit(&quot; æ³¢ç‰¹ç‡:&quot;));
            &#x2F;&#x2F;ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºintå˜é‡ï¼Œç¬¬äºŒä¸ªå‚æ•°10è¡¨ç¤ºè½¬æ¢ä¸º10è¿›åˆ¶æ•°
            QString baudRateinfo &#x3D; QString::number(int(info-&gt;baudRate),10);
            InfoSet.append(baudRateinfo);
        &#125;
        else&#123;
            InfoSet.QString::fromLocal8Bit(&quot;æ³¢ç‰¹ç‡:Unknown&quot;);
        &#125;;
        &#x2F;&#x2F;è®¾ç½®æ•°æ®ä½
        switch (info-&gt;dataBits) &#123;
                case 0:
                       MySerial-&gt;setDataBits(QSerialPort::Data5);
                       InfoSet.append(QString::fromLocal8Bit(&quot; æ•°æ®ä½:5&quot;));
                       break;
                case 1:
                       MySerial-&gt;setDataBits(QSerialPort::Data6);
                       InfoSet.append(QString::fromLocal8Bit(&quot; æ•°æ®ä½:6&quot;));
                       break;
                case 2:
                       MySerial-&gt;setDataBits(QSerialPort::Data7);
                       InfoSet.append(QString::fromLocal8Bit(&quot; æ•°æ®ä½:7&quot;));
                       break;
                case 3:
                       MySerial-&gt;setDataBits(QSerialPort::Data8);
                       InfoSet.append(QString::fromLocal8Bit(&quot; æ•°æ®ä½:8&quot;));
                       break;
                default:
                        MySerial-&gt;setDataBits(QSerialPort::UnknownDataBits);
                        InfoSet.append(QString::fromLocal8Bit(&quot; æ•°æ®ä½:Unknown&quot;));
                        break;
                &#125;
        &#x2F;&#x2F;è®¾ç½®æ ¡éªŒä½
        switch (info-&gt;parity) &#123;
                case 0:
                    MySerial-&gt;setParity(QSerialPort::EvenParity);
                    InfoSet.append(QString::fromLocal8Bit(&quot; æ ¡éªŒä½:Even&quot;));
                    break;
                case 1:
                    MySerial-&gt;setParity(QSerialPort::MarkParity);
                    InfoSet.append(QString::fromLocal8Bit(&quot; æ ¡éªŒä½:Mark&quot;));
                    break;
                case 2:
                    MySerial-&gt;setParity(QSerialPort::NoParity);
                    InfoSet.append(QString::fromLocal8Bit(&quot; æ ¡éªŒä½:None&quot;));
                    break;
                case 3:
                    MySerial-&gt;setParity(QSerialPort::OddParity);
                    InfoSet.append(QString::fromLocal8Bit(&quot; æ ¡éªŒä½:Odd&quot;));
                    break;
                case 4:
                    MySerial-&gt;setParity(QSerialPort::SpaceParity);
                    InfoSet.append(QString::fromLocal8Bit(&quot; æ ¡éªŒä½:Space&quot;));
                    break;
                default:
                    MySerial-&gt;setParity(QSerialPort::UnknownParity);
                    InfoSet.append(QString::fromLocal8Bit(&quot; æ ¡éªŒä½:Unknown&quot;));
                    break;
                &#125;
        &#x2F;&#x2F;è®¾ç½®åœæ­¢ä½
        switch (info-&gt;stopBits) &#123;
                case 0:
                    MySerial-&gt;setStopBits(QSerialPort::OneStop);
                    InfoSet.append(QString::fromLocal8Bit(&quot; åœæ­¢ä½:1&quot;));
                    break;
                case 1:
                    MySerial-&gt;setStopBits(QSerialPort::OneAndHalfStop);
                    InfoSet.append(QString::fromLocal8Bit(&quot; åœæ­¢ä½:1.5&quot;));
                    break;
                case 2:
                    MySerial-&gt;setStopBits(QSerialPort::TwoStop);
                    InfoSet.append(QString::fromLocal8Bit(&quot; åœæ­¢ä½:2&quot;));
                    break;
                default:
                    MySerial-&gt;setStopBits(QSerialPort::UnknownStopBits);
                    InfoSet.append(QString::fromLocal8Bit(&quot; åœæ­¢ä½:Unknown&quot;));
                    break;
                &#125;
        &#x2F;&#x2F;è®¾ç½®æµæ§ä½
        switch (info-&gt;flowControl) &#123;
                case 0:
                    MySerial-&gt;setFlowControl(QSerialPort::NoFlowControl);
                    InfoSet.append(QString::fromLocal8Bit(&quot; æµæ§ä½:None&quot;));
                    break;
                case 1:
                    MySerial-&gt;setFlowControl(QSerialPort::HardwareControl);
                    InfoSet.append(QString::fromLocal8Bit(&quot; æµæ§ä½:Hardware&quot;));
                    break;
                case 2:
                    MySerial-&gt;setFlowControl(QSerialPort::SoftwareControl);
                    InfoSet.append(QString::fromLocal8Bit(&quot; æµæ§ä½:Software&quot;));
                    break;
                default:
                    MySerial-&gt;setFlowControl(QSerialPort::UnknownFlowControl);
                    InfoSet.append(QString::fromLocal8Bit(&quot; æµæ§ä½:Unknown&quot;));
                    break;
                &#125;
        emit SetInfo(InfoSet);&#x2F;&#x2F;å‘é€ä¸²å£é…ç½®ä¿¡å·
&#125;</code></pre>

<p>æ·»åŠ **SerialClose()**å‡½æ•°ã€‚å…·ä½“å†…å®¹å¦‚ä¸‹ï¼š</p>
<pre class="language-cpp" data-language="cpp"><code class="language-cpp">void Serial::SerialClose()
&#123;
    if(MySerial-&gt;isOpen())&#x2F;&#x2F;å¦‚æœä¸²å£å·²ç»æ‰“å¼€äº† å…ˆç»™ä»–å…³é—­äº†
    &#123;
        MySerial-&gt;clear();
        MySerial-&gt;close();
    &#125;
&#125;</code></pre>

<blockquote>
<p>æ·»åŠ æ¥æ”¶ä¸²å£é…ç½®å‚æ•°å‡½æ•°ã€‚è¿™ä¸ªå‡½æ•°ä¸»è¦ç”¨ä»æ¥æ”¶ä»uiç•Œé¢å¤„é€‰æ‹©çš„ä¸²å£å‚æ•°ï¼Œå¹¶ä¿å­˜åœ¨infoä¸­ï¼Œå‰é¢æåˆ°äº†æ˜¯é€šè¿‡ç»“æ„ä½“æ¥ä¼ é€’å‚æ•°çš„ï¼Œå› æ­¤æ„é€ å‡½æ•°æ—¶ï¼Œè¦æ·»åŠ ç»“æ„ä½“çš„å½¢å‚ã€‚</p>
</blockquote>
<p>åœ¨<strong>serial.h</strong>ä¸­æ·»åŠ å…¬å…±å‡½æ•°*<em>void RecvSerialConfig(Sinfo <em>data);</em></em> ã€‚</p>
<pre class="language-cpp" data-language="cpp"><code class="language-cpp">public:
	void RecvSerialConfig(Sinfo *data);  &#x2F;&#x2F;æ¥æ”¶ä¸²å£é…ç½®å‚æ•°å‡½æ•°</code></pre>

<p>æŒ‰ä¸‹<kbd>alt</kbd>+<kbd>enter</kbd>ï¼Œåœ¨<strong>serial.cpp</strong>ä¸­æ·»åŠ å®šä¹‰ã€‚</p>
<pre class="language-cpp" data-language="cpp"><code class="language-cpp">void Serial::RecvSerialConfig(Sinfo *data)
&#123;
    if(info!&#x3D;nullptr)   &#x2F;&#x2F;åˆ é™¤åŸå…ˆå†…å­˜ç©ºé—´
    &#123;
        delete info;
    &#125;
    this-&gt;info &#x3D; new Sinfo;&#x2F;&#x2F;é˜²æ­¢å†…å­˜æ³„æ¼,å…³é—­æ—¶ delete info;
    &#x2F;&#x2F;æ¥æ”¶å‚æ•°è®¾ç½®
    this-&gt;info-&gt;Encode&#x3D;data-&gt;Encode;
    this-&gt;info-&gt;baudRate&#x3D;data-&gt;baudRate;
    this-&gt;info-&gt;comName&#x3D;data-&gt;comName;
    this-&gt;info-&gt;dataBits&#x3D;data-&gt;dataBits;
    this-&gt;info-&gt;flowControl&#x3D;data-&gt;flowControl;
    this-&gt;info-&gt;parity&#x3D;data-&gt;parity;
    this-&gt;info-&gt;stopBits&#x3D;data-&gt;stopBits;
&#125;</code></pre>

<blockquote>
<p>è¿™é‡Œè¦æ³¨æ„ï¼Œç”³è¯·å†…å­˜ç©ºé—´æ—¶ï¼Œç»“æŸåå¿…é¡»é‡Šæ”¾ï¼Œä¸ç„¶å®¹æ˜“å¯¼è‡´å†…å­˜æ³„æ¼ã€‚å› æ­¤ï¼Œéœ€è¦åœ¨**~Serial(void);<strong>ä¸­æ·»åŠ </strong>delete info;**</p>
</blockquote>
<p>**~Serial(void);**å‡½æ•°å¦‚ä¸‹ï¼š</p>
<pre class="language-cpp" data-language="cpp"><code class="language-cpp">Serial::~Serial()
&#123;
    delete info;
&#125;</code></pre>

<h3 id="é…ç½®å‘é€å’Œæ¥æ”¶å‡½æ•°"><a href="#é…ç½®å‘é€å’Œæ¥æ”¶å‡½æ•°" class="headerlink" title="é…ç½®å‘é€å’Œæ¥æ”¶å‡½æ•°"></a>é…ç½®å‘é€å’Œæ¥æ”¶å‡½æ•°</h3><p>é…ç½®å®Œæ‰“å¼€å’Œå…³é—­å‡½æ•°åï¼Œè¿™é‡Œè¦é…ç½®å‘é€å’Œæ¥æ”¶å‡½æ•°</p>
<p>åœ¨<strong>serial.h</strong>ä¸­æ·»åŠ å…¬å…±å‡½æ•°<strong>void SendData(QByteArray data, bool hexflag);</strong> å’Œ<strong>void RecvData();<strong>ã€‚æ·»åŠ ä¿¡å·</strong>void isRecvData(QByteArray);</strong></p>
<pre class="language-cpp" data-language="cpp"><code class="language-cpp">public:
    void SendData(QByteArray data, bool hexflag); &#x2F;&#x2F;å‘é€æ•°æ®
    void RecvData(); &#x2F;&#x2F;æ¥æ”¶æ•°æ®
signals:
    void isRecvData(QByteArray); &#x2F;&#x2F;æ¥æ”¶æ•°æ®ä¿¡å·</code></pre>

<p>æŒ‰ä¸‹<kbd>alt</kbd>+<kbd>enter</kbd>ï¼Œåœ¨<strong>serial.cpp</strong>ä¸­æ·»åŠ å®šä¹‰ã€‚</p>
<blockquote>
<p>å…¶ä¸­<strong>void SendData(QByteArray data, bool hexflag);</strong> å‡½æ•°ä¸­ï¼Œ<strong>data</strong>ä¸º<strong>ui</strong>ç•Œé¢ä¼ é€’çš„æ•°æ®ï¼Œ<strong>hexflag</strong>åˆ™ä¸ºæ˜¯å¦é€šè¿‡<strong>hex</strong>æ¨¡å¼å‘é€ã€‚</p>
<p><strong>isRecvData(QByteArray);<strong>åˆ™æ˜¯å‘</strong>ui</strong>ä¼ é€’ä¸²å£æ¥æ”¶çš„æ•°æ®ã€‚</p>
</blockquote>
<p>å…·ä½“å‡½æ•°å†…å®¹ä¸ºï¼š</p>
<pre class="language-cpp" data-language="cpp"><code class="language-cpp">void Serial::SendData(QByteArray data, bool hexflag)
&#123;
    if(data.isEmpty())
    &#123;
        return;&#x2F;&#x2F;æ²¡æœ‰è¯»å–åˆ°æ•°æ®å°±é€€å‡º
    &#125;
    if(hexflag&#x3D;&#x3D;true)
    &#123;   &#x2F;&#x2F;hexæ¨¡å¼ç›´æ¥å‘é€
        MySerial-&gt;write(data);
    &#125;
    else&#123; &#x2F;&#x2F;åˆ¤æ–­ç¼–ç æ ¼å¼åœ¨å‘é€
         data&#x3D;SetCodeType(data,info-&gt;Encode); &#x2F;&#x2F;å…ˆæ ¹æ®ç¼–ç è½¬æ¢æ•°æ®ç¼–ç æ ¼å¼
         MySerial-&gt;write(data);
    &#125;
&#125;

void Serial::RecvData()
&#123;
    QByteArray info &#x3D; MySerial-&gt;readAll();
    if(info.isEmpty())
     &#123;
       return ;&#x2F;&#x2F;æ²¡æœ‰è¯»å–åˆ°æ•°æ®å°±é€€å‡º
     &#125;
    emit isRecvData(info);
&#125;</code></pre>

<p>è¿™é‡Œ**SetCodeType();**å‡½æ•°ä¸ºè‡ªå·±å®šä¹‰çš„è®¾ç½®æ•°æ®ç¼–ç æ ¼å¼å‡½æ•°ã€‚å…·ä½“å®ç°æ–¹å¼è§ <strong>é…ç½®ç¼–ç æ ¼å¼å‡½æ•°</strong> ã€‚</p>
<h3 id="é…ç½®ç¼–ç æ ¼å¼å‡½æ•°"><a href="#é…ç½®ç¼–ç æ ¼å¼å‡½æ•°" class="headerlink" title="é…ç½®ç¼–ç æ ¼å¼å‡½æ•°"></a>é…ç½®ç¼–ç æ ¼å¼å‡½æ•°</h3><p>ç»™é¡¹ç›®æ·»åŠ æ–°çš„<strong>C++<strong>ç±»ï¼Œå³å‡»</strong>å·¥ç¨‹</strong>ï¼Œé€‰æ‹©**ADD NEW â€¦**ã€‚</p>
<p><img src="https://img.daitcc.top:8090/i/2023/11/655f5fe8cca0f.png" loading="lazy"></p>
<p>é€‰æ‹©<strong>C++ Class</strong></p>
<p><img src="https://img.daitcc.top:8090/i/2023/11/655f5fc7861c4.png" loading="lazy"></p>
<p>æŒ‰ç…§å¦‚ä¸‹å›¾é€‰æ‹©ï¼Œç‚¹å‡»<strong>ä¸‹ä¸€æ­¥</strong>ï¼Œ<strong>å®Œæˆ</strong>ã€‚</p>
<p><img src="https://img.daitcc.top:8090/i/2023/11/655f600fd7459.png" loading="lazy"></p>
<p>ä¿®æ”¹<strong>codetype.h</strong>å†…å®¹å¦‚ä¸‹ï¼š</p>
<pre class="language-cpp" data-language="cpp"><code class="language-cpp">#ifndef CODETYPE_H
#define CODETYPE_H

#include &lt;QString&gt;
#include &lt;QTextCodec&gt;

&#x2F;&#x2F;ç¼–ç æ ¼å¼åˆ—è¡¨
typedef enum
&#123;
    ASCII &#x3D; 0,
    Utf8,     &#x2F;&#x2F;Utf8ç¼–ç æ ¼å¼
    Utf16,    &#x2F;&#x2F;Utf16ç¼–ç æ ¼å¼
    GBK,  &#x2F;&#x2F;GBKç¼–ç æ ¼å¼ã€å…¼å®¹GBK18030ã€GB2312
    Big5,     &#x2F;&#x2F;Big5
    ShiftJIS
&#125;CodeType;
&#x2F;&#x2F;è®¾ç½®ç¼–ç æ ¼å¼
QByteArray SetCodeType(QByteArray const &amp;data,qint32 control);
&#x2F;&#x2F;è§£æç¼–ç æ ¼å¼
QByteArray GetCodeType(QByteArray const &amp;data, qint32 control);
#endif &#x2F;&#x2F; CODETYPE_H
</code></pre>

<p>ä¿®æ”¹<strong>codetype.cpp</strong>å†…å®¹å¦‚ä¸‹ï¼š</p>
<pre class="language-cpp" data-language="cpp"><code class="language-cpp">#include &quot;codetype.h&quot;
&#x2F;&#x2F;ç¼–ç 
QByteArray SetCodeType(const QByteArray &amp;data, qint32 control)
&#123;
    QByteArray tmpData;
    switch (control) &#123;
        case ASCII: tmpData&#x3D;QTextCodec::codecForName(&quot;latin1&quot;)-&gt;fromUnicode(data);break;
        case Utf8: tmpData&#x3D; QTextCodec::codecForName(&quot;UTF-8&quot;)-&gt;fromUnicode(data);break;
        case Utf16: tmpData&#x3D; QTextCodec::codecForName(&quot;UTF-16&quot;)-&gt;fromUnicode(data);break;
        case GBK: tmpData&#x3D; QTextCodec::codecForName(&quot;GBK&quot;)-&gt;fromUnicode(data);break;
        case Big5: tmpData&#x3D; QTextCodec::codecForName(&quot;Big5&quot;)-&gt;fromUnicode(data);break;
        case ShiftJIS: tmpData&#x3D; QTextCodec::codecForName(&quot;Shift-JIS&quot;)-&gt;fromUnicode(data);break;
        default:;break;
    &#125;
    return tmpData;
&#125;

&#x2F;&#x2F;è§£ç 
QByteArray GetCodeType(const QByteArray &amp;data, qint32 control)
&#123;
    QString tmpData;
    switch (control) &#123;
        case ASCII: tmpData&#x3D; QTextCodec::codecForName(&quot;latin1&quot;)-&gt;toUnicode(data);break;
        case Utf8: tmpData&#x3D; QTextCodec::codecForName(&quot;UTF-8&quot;)-&gt;toUnicode(data);break;
        case Utf16: tmpData&#x3D; QTextCodec::codecForName(&quot;UTF-16&quot;)-&gt;toUnicode(data);break;
        case GBK: tmpData&#x3D; QTextCodec::codecForName(&quot;GBK&quot;)-&gt;toUnicode(data);break;
        case Big5: tmpData&#x3D; QTextCodec::codecForName(&quot;Big5&quot;)-&gt;toUnicode(data);break;
        case ShiftJIS: tmpData&#x3D; QTextCodec::codecForName(&quot;Shift-JIS&quot;)-&gt;toUnicode(data);break;
        default:;break;
    &#125;
    return tmpData.toUtf8(); &#x2F;&#x2F;è®¾ç½®æˆUnicodeæ ¼å¼
&#125;
</code></pre>

<blockquote>
<p>è¿™é‡Œä¸»è¦ç”¨åˆ°äº†QTextCodecè¿™ä¸ªç±»ï¼Œå…·ä½“å†…å®¹å¯ä»¥çœ‹Qtçš„å¸®åŠ©æ–‡æ¡£ï¼Œè¿™é‡Œåªç®€è¦æ¦‚æ‹¬ã€‚</p>
<blockquote>
<p> 1.éœ€è¦åŒ…å«**#include <QTextCodec>**è¿™ä¸ªå¤´æ–‡ä»¶ã€‚</p>
<p> 2.QTextCodec ç±»ä¸»è¦æ˜¯å°†æ•°æ®ç”¨æ¥åœ¨é Unicode æ ¼å¼å’Œ Unicode ä¹‹é—´è¿›è¡Œè½¬æ¢ã€‚</p>
</blockquote>
</blockquote>
<p>è‡³æ­¤ï¼ŒQtSerialPorté…ç½®å®Œæˆã€‚</p>
<h2 id="3-çº¿ç¨‹ç±»å¯¹è±¡çš„æ·»åŠ å’ŒUIç•Œé¢çš„å‚æ•°è®¾ç½®"><a href="#3-çº¿ç¨‹ç±»å¯¹è±¡çš„æ·»åŠ å’ŒUIç•Œé¢çš„å‚æ•°è®¾ç½®" class="headerlink" title="3.çº¿ç¨‹ç±»å¯¹è±¡çš„æ·»åŠ å’ŒUIç•Œé¢çš„å‚æ•°è®¾ç½®"></a>3.çº¿ç¨‹ç±»å¯¹è±¡çš„æ·»åŠ å’ŒUIç•Œé¢çš„å‚æ•°è®¾ç½®</h2><h3 id="æ·»åŠ ä»»åŠ¡ç±»å¯¹è±¡å’Œçº¿ç¨‹ç±»å¯¹è±¡"><a href="#æ·»åŠ ä»»åŠ¡ç±»å¯¹è±¡å’Œçº¿ç¨‹ç±»å¯¹è±¡" class="headerlink" title="æ·»åŠ ä»»åŠ¡ç±»å¯¹è±¡å’Œçº¿ç¨‹ç±»å¯¹è±¡"></a>æ·»åŠ ä»»åŠ¡ç±»å¯¹è±¡å’Œçº¿ç¨‹ç±»å¯¹è±¡</h3><p>æ‰“å¼€å·¥ç¨‹ï¼Œé€‰æ‹©<strong>mainwidget.h</strong>ï¼Œæ·»åŠ æˆ‘ä»¬åˆ›å»ºçš„ç±»<strong>Serial</strong>å’Œçº¿ç¨‹ç±»<strong>QThread</strong>ã€‚</p>
<p>å†…å®¹å¦‚ä¸‹ï¼š</p>
<pre class="language-cpp" data-language="cpp"><code class="language-cpp">#ifndef MAINWIDGET_H
#define MAINWIDGET_H

#include &lt;QWidget&gt;
#include &quot;serial.h&quot;  &#x2F;&#x2F;æ·»åŠ è‡ªå®šä¹‰ç±»serialå¤´æ–‡ä»¶
#include &lt;QThread&gt;   &#x2F;&#x2F;æ·»åŠ çº¿ç¨‹ç±»QThreadå¤´æ–‡ä»¶

QT_BEGIN_NAMESPACE
namespace Ui &#123; class MainWidget; &#125;
QT_END_NAMESPACE

class MainWidget : public QWidget
&#123;
    Q_OBJECT

public:
    MainWidget(QWidget *parent &#x3D; nullptr);
    ~MainWidget();
    QThread *t1;    &#x2F;&#x2F;1.åˆ›å»ºå­çº¿ç¨‹å¯¹è±¡
    Serial *m_work; &#x2F;&#x2F;2.åˆ›å»ºä»»åŠ¡ç±»å¯¹è±¡
    
private:
    Ui::MainWidget *ui;

&#125;;
#endif &#x2F;&#x2F; MAINWIDGET_H
</code></pre>

<p>åœ¨<strong>mainwidget.cpp</strong>ä¸­å°†åˆ›å»ºçš„å¯¹è±¡å®ä¾‹åŒ–ï¼Œå¹¶å°†ä»»åŠ¡å‡½æ•°ç§»å…¥å­çº¿ç¨‹ã€‚</p>
<p>å†…å®¹å¦‚ä¸‹ï¼š</p>
<pre class="language-cpp" data-language="cpp"><code class="language-cpp">#include &quot;mainwidget.h&quot;
#include &quot;ui_mainwidget.h&quot;

MainWidget::MainWidget(QWidget *parent)
    : QWidget(parent)
    , ui(new Ui::MainWidget)
&#123;
    ui-&gt;setupUi(this);
    
    &#x2F;&#x2F;1.åˆ›å»ºå­çº¿ç¨‹å¯¹è±¡ï¼ŒåŠ¨æ€åˆ†é…ç©ºé—´ï¼ŒæŒ‡å®šçˆ¶å¯¹è±¡
    t1 &#x3D; new QThread(this);
    &#x2F;&#x2F;2.åˆ›å»ºä»»åŠ¡ç±»å¯¹è±¡,åŠ¨æ€åˆ†é…ç©ºé—´ï¼Œä¸èƒ½æŒ‡å®šçˆ¶å¯¹è±¡
    m_work &#x3D; new Serial;&#x2F;&#x2F;é˜²æ­¢å†…å­˜æ³„æ¼,å…³é—­çª—å£æ—¶ delete m_work;
    &#x2F;&#x2F;3.å°†ä»»åŠ¡å¯¹è±¡ç§»åŠ¨åˆ°æŸä¸ªå­çº¿ç¨‹ä¸­
    m_work-&gt;moveToThread(t1);
    
&#125;

MainWidget::~MainWidget()
&#123;
    delete ui;
    delete m_work;  &#x2F;&#x2F;å…³é—­æ—¶é‡Šæ”¾å†…å­˜ç©ºé—´
&#125;</code></pre>

<blockquote>
<p>æ³¨ï¼šè¿™é‡Œçº¿ç¨‹æ“ä½œå‚è€ƒä¹‹å‰çš„æ–‡ç« <a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_39538318/article/details/120398160">Qtå¤šçº¿ç¨‹çš„ä½¿ç”¨è®°å½•</a>ä¸­çš„æ–¹å¼äºŒã€‚</p>
</blockquote>
<h3 id="åˆå§‹åŒ–uiç•Œé¢å‚æ•°"><a href="#åˆå§‹åŒ–uiç•Œé¢å‚æ•°" class="headerlink" title="åˆå§‹åŒ–uiç•Œé¢å‚æ•°"></a>åˆå§‹åŒ–uiç•Œé¢å‚æ•°</h3><p>åœ¨å¼€å§‹å·¥ä½œå‰éœ€è¦åˆå§‹åŒ–uiç•Œé¢çš„å‚æ•°ï¼Œå¦‚è®¾ç½®QComboboxçš„ä¸‹æ‹‰æ¡†å†…å®¹ã€‚å› æ­¤éœ€è¦åˆ›å»ºä¸€ä¸ª<strong>void initUI(void)</strong>;å‡½æ•°ã€‚æ‰“å¼€<strong>mainwidget.h</strong>ï¼Œæ·»åŠ æˆ‘ä»¬éœ€è¦åˆ›å»ºçš„å‡½æ•°ï¼Œå¹¶ä½¿ç”¨å¿«æ·é”®<kbd>alt</kbd>+<kbd>enter</kbd>ï¼Œåœ¨<strong>mainwidget.cpp</strong>ä¸­å®šä¹‰<strong>void initUI(void)</strong>;å‡½æ•°ã€‚</p>
<p>è®¾ç½®å†…å®¹å¦‚ä¸‹ï¼š</p>
<pre class="language-cpp" data-language="cpp"><code class="language-cpp">public:
    MainWidget(QWidget *parent &#x3D; nullptr);
    ~MainWidget();
    QThread *t1;    &#x2F;&#x2F;1.åˆ›å»ºå­çº¿ç¨‹å¯¹è±¡
    Serial *m_work; &#x2F;&#x2F;2.åˆ›å»ºä»»åŠ¡ç±»å¯¹è±¡
    void initUI();  &#x2F;&#x2F;åˆå§‹åŒ–UIç•Œé¢å‚æ•°ï¼Œå¦‚è®¾ç½®QComboboxçš„itemå’Œè®¾ç½®QSSæ ·å¼ã€‚</code></pre>

<p>å…¶ä¸­ <strong>void initUI();</strong> å‡½æ•°å†…å®¹å¦‚ä¸‹ã€‚</p>
<pre class="language-cpp" data-language="cpp"><code class="language-cpp">void MainWidget::initUI()
&#123;
     QStringList baudrateList; &#x2F;&#x2F;è®¾ç½®æ³¢ç‰¹ç‡åˆ—è¡¨
     baudrateList&lt;&lt;&quot;1200&quot;&lt;&lt;&quot;2400&quot;&lt;&lt;&quot;4800&quot;&lt;&lt;&quot;9600&quot;&lt;&lt;&quot;19200&quot;&lt;&lt;&quot;38400&quot;
                &lt;&lt;&quot;57600&quot;&lt;&lt;&quot;115200&quot;;
     ui-&gt;comBaudRate-&gt;addItems(baudrateList); &#x2F;&#x2F;å°†è®¾ç½®çš„ItemåŠ å…¥åˆ°åˆ—è¡¨ä¸­
     ui-&gt;comBaudRate-&gt;setEditable(true); &#x2F;&#x2F;è®¾ç½®å¯ä»¥æ‰‹åŠ¨è¾“å…¥æ³¢ç‰¹ç‡
     &#x2F;&#x2F;é™å®šæ³¢ç‰¹ç‡æ‰‹åŠ¨è¾“å…¥æ—¶åªèƒ½è¾“å…¥æ•°å­—ä¸”èŒƒå›´ä¸º(0, 1000000)å³æœ€é«˜1M
     isBaudRateRange&#x3D; new QIntValidator; &#x2F;&#x2F;é˜²æ­¢å†…å­˜æ³„æ¼,å…³é—­çª—å£æ—¶ delete aIntValidator;
     isBaudRateRange-&gt;setRange(0, 1000000);
     ui-&gt;comBaudRate-&gt;setValidator(isBaudRateRange);
     ui-&gt;comBaudRate-&gt;setCurrentIndex(3);  &#x2F;&#x2F;è®¾ç½®é»˜è®¤æ˜¾ç¤ºç¬¬4ä¸ªå³9600(ä»0å¼€å§‹)

     QStringList databitsList; &#x2F;&#x2F;è®¾ç½®æ•°æ®ä½åˆ—è¡¨ï¼Œæ ¹æ®ä¸²å£ä¸­é…ç½®é¡ºåºè®¾ç½®ã€‚
     databitsList&lt;&lt;&quot;5&quot;&lt;&lt;&quot;6&quot;&lt;&lt;&quot;7&quot;&lt;&lt;&quot;8&quot;;
     ui-&gt;comDataBits-&gt;addItems(databitsList); &#x2F;&#x2F;å°†è®¾ç½®çš„ItemåŠ å…¥åˆ°åˆ—è¡¨ä¸­
     ui-&gt;comDataBits-&gt;setCurrentIndex(3);  &#x2F;&#x2F;è®¾ç½®é»˜è®¤æ˜¾ç¤ºç¬¬4ä¸ªå³8bit(ä»0å¼€å§‹)

     QStringList parityList; &#x2F;&#x2F;è®¾ç½®æ ¡éªŒä½åˆ—è¡¨ï¼Œæ ¹æ®ä¸²å£ä¸­é…ç½®é¡ºåºè®¾ç½®ã€‚
     parityList&lt;&lt;&quot;Even&quot;&lt;&lt;&quot;Mark&quot;&lt;&lt;&quot;None&quot;&lt;&lt;&quot;Odd&quot;&lt;&lt;&quot;Space&quot;;
     ui-&gt;comParity-&gt;addItems(parityList); &#x2F;&#x2F;å°†è®¾ç½®çš„ItemåŠ å…¥åˆ°åˆ—è¡¨ä¸­
     ui-&gt;comParity-&gt;setCurrentIndex(2);  &#x2F;&#x2F;è®¾ç½®é»˜è®¤æ˜¾ç¤ºç¬¬3ä¸ªå³None(ä»0å¼€å§‹)

     QStringList stopbitsList; &#x2F;&#x2F;è®¾ç½®åœæ­¢ä½åˆ—è¡¨ï¼Œæ ¹æ®ä¸²å£ä¸­é…ç½®é¡ºåºè®¾ç½®ã€‚
     stopbitsList&lt;&lt;&quot;1&quot;&lt;&lt;&quot;1.5&quot;&lt;&lt;&quot;2&quot;;
     ui-&gt;comStopBits-&gt;addItems(stopbitsList); &#x2F;&#x2F;å°†è®¾ç½®çš„ItemåŠ å…¥åˆ°åˆ—è¡¨ä¸­
     ui-&gt;comStopBits-&gt;setCurrentIndex(0);  &#x2F;&#x2F;è®¾ç½®é»˜è®¤æ˜¾ç¤ºç¬¬1ä¸ªå³1bit(ä»0å¼€å§‹)

     QStringList encodeList; &#x2F;&#x2F;è®¾ç½®ç¼–ç æ ¼å¼åˆ—è¡¨ï¼Œæ ¹æ®ç¼–ç æ ¼å¼ä¸­é…ç½®é¡ºåºè®¾ç½®ã€‚
     encodeList&lt;&lt;&quot;ASCII&quot;&lt;&lt;&quot;UTF8&quot;&lt;&lt;&quot;UTF16&quot;&lt;&lt;&quot;GBK&quot;&lt;&lt;&quot;Big5&quot;&lt;&lt;&quot;ShiftJIS&quot;;
     ui-&gt;comEncode-&gt;addItems(encodeList); &#x2F;&#x2F;å°†è®¾ç½®çš„ItemåŠ å…¥åˆ°åˆ—è¡¨ä¸­
     ui-&gt;comEncode-&gt;setCurrentIndex(0);  &#x2F;&#x2F;è®¾ç½®é»˜è®¤æ˜¾ç¤ºç¬¬1ä¸ªå³ASCII(ä»0å¼€å§‹)

&#125;</code></pre>

<blockquote>
<p>æ³¨ï¼š</p>
<ol>
<li>å…¶ä¸­éœ€è¦åœ¨<strong>mainwidget.h</strong>ä¸­æ·»åŠ    <strong>#include &lt; QStringList &gt;</strong> ;</li>
<li>é…ç½®çš„<strong>item</strong>å‚æ•°éœ€è¦åŒä¹‹å‰<strong>switch</strong>è®¾ç½®çš„å‚æ•°é¡ºåºç›¸åŒã€‚</li>
<li>è¦åœ¨<strong>mainwidget.h</strong>ä¸­æ·»åŠ    <strong>#include &lt; QIntValidator &gt;</strong>;å¹¶åˆ›å»ºä¸€ä¸ªç§æœ‰æˆå‘˜ï¼Œ<em><em>QIntValidator</em> isBaudRateRange;</em>*</li>
</ol>
</blockquote>
<p>è®¾ç½®å®Œæˆååœ¨<strong>MainWidget</strong>ä¸­è¿è¡Œ <strong>initUI();</strong> å‡½æ•°</p>
<pre class="language-cpp" data-language="cpp"><code class="language-cpp">MainWidget::MainWidget(QWidget *parent)
    : QWidget(parent)
    , ui(new Ui::MainWidget)
&#123;
    ui-&gt;setupUi(this);

    &#x2F;&#x2F;0.åˆå§‹åŒ–uiç•Œé¢;
    initUI();
    &#x2F;&#x2F;1.åˆ›å»ºå­çº¿ç¨‹å¯¹è±¡ï¼ŒåŠ¨æ€åˆ†é…ç©ºé—´ï¼ŒæŒ‡å®šçˆ¶å¯¹è±¡
    t1 &#x3D; new QThread(this);
    &#x2F;&#x2F;2.åˆ›å»ºä»»åŠ¡ç±»å¯¹è±¡,åŠ¨æ€åˆ†é…ç©ºé—´ï¼Œä¸èƒ½æŒ‡å®šçˆ¶å¯¹è±¡
    m_work &#x3D; new Serial;&#x2F;&#x2F;é˜²æ­¢å†…å­˜æ³„æ¼,å…³é—­çª—å£æ—¶ delete m_work;
    &#x2F;&#x2F;3.å°†ä»»åŠ¡å¯¹è±¡ç§»åŠ¨åˆ°æŸä¸ªå­çº¿ç¨‹ä¸­
    m_work-&gt;moveToThread(t1);

&#125;</code></pre>

<p>è‡³æ­¤ï¼Œ<strong>QCombobox</strong> å‚æ•°åˆå§‹åŒ–å®Œæˆã€‚(åæœŸä»ä¼šåœ¨ <strong>initUI()</strong> ä¸­è¿›è¡Œå…¶ä»–é…ç½®å¦‚è®¾ç½®QSSæ ·å¼ç­‰)ã€‚</p>
<h3 id="åˆ©ç”¨QSerialPortInfoå¾—åˆ°ä¸²å£å·"><a href="#åˆ©ç”¨QSerialPortInfoå¾—åˆ°ä¸²å£å·" class="headerlink" title="åˆ©ç”¨QSerialPortInfoå¾—åˆ°ä¸²å£å·"></a>åˆ©ç”¨QSerialPortInfoå¾—åˆ°ä¸²å£å·</h3><p>è¿™é‡Œæˆ‘ä»¬ä¼šå‘ç°å¹¶æ²¡æœ‰è®¾ç½®ä¸²å£çš„<strong>Item</strong>å‚æ•°ã€‚ä¸»è¦åŸå› æ˜¯ï¼Œç”µè„‘å†è¯†åˆ«è®¾å¤‡çš„ä¸²å£å·æ—¶ï¼Œä¼šä»»æ„åˆ†é…å¯ç”¨çš„ç«¯å£å·ï¼Œå› æ­¤è¿™é‡Œæˆ‘ä»¬é€šè¿‡ä½¿ç”¨<strong>QSerialPortInfo</strong>ç±»æ¥å¾—åˆ°å¯ç”¨ç«¯å£å·ï¼Œå¹¶è®¾ç½®åˆ°ä¸²å£çš„<strong>Item</strong>ä¸­ã€‚</p>
<p>é¦–å…ˆï¼Œæ‰“å¼€<strong>mainwidget.h</strong>ï¼Œæ·»åŠ **#include <QSerialPortInfo >** , ç„¶ååˆ›å»º <strong>void getportInfo();</strong> å‡½æ•°ï¼Œå¹¶ä½¿ç”¨å¿«æ·é”®<kbd>alt</kbd>+<kbd>enter</kbd>ï¼Œåœ¨<strong>mainwidget.cpp</strong> ä¸­å®šä¹‰ <strong>void getportInfo();</strong> å‡½æ•°ã€‚</p>
<p><strong>å®ç°æ­¥éª¤ï¼š</strong></p>
<blockquote>
<p>é¦–å…ˆæ£€æµ‹å¯ç”¨çš„è®¾å¤‡ç«¯å£å·ï¼Œå½“å­˜åœ¨å¯ç”¨çš„ç«¯å£å·æ—¶ï¼Œé€šè¿‡éå†çš„æ–¹å¼ï¼Œå°†å¯ç”¨çš„ç«¯å£å·ä¿å­˜åœ¨<strong>portStringList</strong>ä¸­ã€‚ç„¶åè®¾ç½®åˆ°ä¸²å£çš„<strong>Item</strong>ä¸­ã€‚æ— å¯ç”¨ç«¯å£å·æ—¶ï¼Œå¼¹å‡ºä¿¡å·æ¡†ã€‚</p>
</blockquote>
<p>å…·ä½“å†…å®¹å¦‚ä¸‹ï¼š</p>
<pre class="language-cpp" data-language="cpp"><code class="language-cpp">void MainWidget::getportInfo()
&#123;
    qint32 comCnt&#x3D;0; &#x2F;&#x2F;ä¿å­˜å½“å‰å¯ç”¨çš„ä¸²å£æ•°é‡
    QStringList portStringList; &#x2F;&#x2F;ä¿å­˜å½“å‰å¯ç”¨çš„ä¸²å£åˆ—è¡¨

    if(portStringList.length()!&#x3D;0) 
    &#123;
      portStringList.clear();&#x2F;&#x2F;æ£€æµ‹portStringListå†…å®¹å½“ä¸ä¸ºç©ºæ—¶æ¸…é™¤å†æ¬¡è°ƒç”¨æ—¶ä½¿ç”¨
    &#125; 
    if(ui-&gt;comPortName-&gt;count()!&#x3D;0)
    &#123;
        ui-&gt;comPortName-&gt;clear();&#x2F;&#x2F;æ£€æµ‹comPortNameçš„åˆ—è¡¨æ•°é‡å½“ä¸ä¸ºç©ºæ—¶æ¸…é™¤å†æ¬¡è°ƒç”¨æ—¶ä½¿ç”¨
    &#125;
    &#x2F;&#x2F;è·å–ä¸²å£è®¾å¤‡æ•°é‡
    comCnt &#x3D; QSerialPortInfo::availablePorts().length();
    if(comCnt!&#x3D;0)
    &#123;
       &#x2F;&#x2F;è·å–ä¸²å£ä¿¡æ¯
       foreach (const QSerialPortInfo &amp;qspinfo, QSerialPortInfo::availablePorts())
       &#123;
            portStringList+&#x3D;qspinfo.portName();
       &#125;
       ui-&gt;comPortName-&gt;addItems(portStringList);
    &#125;
    else&#123;   
        message(&quot;æœªæ£€æµ‹åˆ°ä¸²å£!&quot;);
        &#125;
&#125;</code></pre>

<blockquote>
<p>æ³¨ï¼š</p>
<ol>
<li>å…¶ä¸­message();ä¸ºè‡ªå·±é‡æ–°å°è£…çš„ä¿¡å·æ¡†å‡½æ•°ï¼Œå…·ä½“å†…å®¹è§ä¸‹ã€‚</li>
</ol>
</blockquote>
<p>æ‰“å¼€mainwidget.hï¼Œæ·»åŠ  #include &lt; QMessageBox &gt; , ç„¶åé‡æ–°å°è£…å‡½æ•° void message(const char <em>str); ï¼Œå¹¶ä½¿ç”¨å¿«æ·é”®<kbd>alt</kbd>+<kbd>enter</kbd>ï¼Œåœ¨*<em>mainwidget.cpp</em></em> ä¸­å®šä¹‰ void message(const char *str);å‡½æ•°ã€‚</p>
<p>å…·ä½“å†…å®¹å¦‚ä¸‹ï¼š</p>
<pre class="language-cpp" data-language="cpp"><code class="language-cpp">void MainWidget::message(const char *str)
&#123;
    QMessageBox msgBox;
    msgBox.setText(QString::fromLocal8Bit(str));
    msgBox.exec();
&#125;</code></pre>

<p>ç„¶ååœ¨<strong>MainWidget</strong>ä¸­è¿è¡Œ <strong>getportInfo();</strong> å‡½æ•°</p>
<p>è¿™é‡Œè¦æ³¨æ„,åœ¨æ‹”æ’ä¸²å£è®¾å¤‡æ—¶ï¼Œå¯ç”¨çš„ç«¯å£å·ä¼šäº§ç”Ÿå˜åŒ–ï¼Œä½† <strong>getportInfo();</strong> å‡½æ•°ä»…åœ¨æ‰“å¼€ç¨‹åºæ—¶è¿è¡Œä¸€æ¬¡ï¼Œå› æ­¤ï¼Œè¿™é‡Œéœ€è¦å¢åŠ æ›´æ–°ç«¯å£å·çš„æ–¹æ³•ã€‚</p>
<p>å®ç°æ–¹æ³•ï¼š</p>
<blockquote>
<ol>
<li>æ·»åŠ æ£€æµ‹æ‹”æ’è®¾å¤‡çš„å‡½æ•°ï¼Œå½“è®¾å¤‡å˜åŒ–æ—¶é‡æ–°è¿è¡Œ<strong>getportInfo();</strong></li>
<li>ä½¿ç”¨å®šæ—¶å™¨ï¼Œè®¾å®šæ¯100msæ£€æµ‹ä¸€æ¬¡ï¼Œå½“è®¾å¤‡å˜åŒ–æ—¶é‡æ–°è¿è¡Œ<strong>getportInfo();</strong></li>
<li>å¢åŠ æŒ‰é’®ï¼Œå½“ç‚¹å‡»æŒ‰é’®æ—¶é‡æ–°è¿è¡Œ<strong>getportInfo();</strong></li>
</ol>
</blockquote>
<p>è¿™é‡Œé€‰æ‹©å¢åŠ æŒ‰é’®çš„æ–¹æ³•ï¼Œä¸»è¦åŸå› æ˜¯ç®€å•ä¸”ä¸å ç”¨èµ„æºã€‚</p>
<p><img src="https://img.daitcc.top:8090/i/2023/11/655f60192b5c5.png" alt="image-20211028233127314" loading="lazy"></p>
<p>å¢åŠ æŒ‰é’®çš„ä¿¡å·ä¸æ§½ï¼Œå½“ç‚¹å‡»æŒ‰é’®æ—¶ï¼Œé‡æ–°è¿è¡Œ<strong>getportInfo();</strong></p>
<p>å…·ä½“å†…å®¹å¦‚ä¸‹ï¼š</p>
<pre class="language-cpp" data-language="cpp"><code class="language-cpp">MainWidget::MainWidget(QWidget *parent)
    : QWidget(parent)
    , ui(new Ui::MainWidget)
&#123;
    ui-&gt;setupUi(this);

    &#x2F;&#x2F;0.åˆå§‹åŒ–uiç•Œé¢;é…ç½®qssæ ·å¼
    initUI();
    &#x2F;&#x2F;1.åˆ›å»ºå­çº¿ç¨‹å¯¹è±¡ï¼ŒåŠ¨æ€åˆ†é…ç©ºé—´ï¼ŒæŒ‡å®šçˆ¶å¯¹è±¡
    t1 &#x3D; new QThread(this);
    &#x2F;&#x2F;2.åˆ›å»ºä»»åŠ¡ç±»å¯¹è±¡,åŠ¨æ€åˆ†é…ç©ºé—´ï¼Œä¸èƒ½æŒ‡å®šçˆ¶å¯¹è±¡
    m_work &#x3D; new Serial;&#x2F;&#x2F;é˜²æ­¢å†…å­˜æ³„æ¼,å…³é—­çª—å£æ—¶ delete m_work;
    &#x2F;&#x2F;3.å°†ä»»åŠ¡å¯¹è±¡ç§»åŠ¨åˆ°æŸä¸ªå­çº¿ç¨‹ä¸­
    m_work-&gt;moveToThread(t1);
    &#x2F;&#x2F;4.è·å–ä¸²å£è®¾å¤‡ä¿¡æ¯
    getportInfo();
        &#x2F;&#x2F;æ·»åŠ æ›´æ–°æŒ‰é’®ä¿¡å·ä¸æ§½ï¼Œç”¨äºæ›´æ–°ä¸²å£è®¾å¤‡ä¿¡æ¯
        connect(ui-&gt;upBtn,&amp;QPushButton::clicked,this,&amp;MainWidget::getportInfo);

&#125;</code></pre>

<p>è‡³æ­¤ï¼Œåˆ©ç”¨<strong>QSerialPortInfo</strong>å¾—åˆ°ä¸²å£å·å®Œæˆã€‚</p>
<h2 id="4-é…ç½®UIç•Œé¢çš„ä¸²å£æ‰“å¼€å’Œå…³é—­"><a href="#4-é…ç½®UIç•Œé¢çš„ä¸²å£æ‰“å¼€å’Œå…³é—­" class="headerlink" title="4.é…ç½®UIç•Œé¢çš„ä¸²å£æ‰“å¼€å’Œå…³é—­"></a>4.é…ç½®UIç•Œé¢çš„ä¸²å£æ‰“å¼€å’Œå…³é—­</h2><h3 id="è®¾ç½®ä¸²å£å‚æ•°é…ç½®æ•°ç»„"><a href="#è®¾ç½®ä¸²å£å‚æ•°é…ç½®æ•°ç»„" class="headerlink" title="è®¾ç½®ä¸²å£å‚æ•°é…ç½®æ•°ç»„"></a>è®¾ç½®ä¸²å£å‚æ•°é…ç½®æ•°ç»„</h3><p>ä»ä¹‹å‰çš„<strong>Serial</strong>é…ç½®å¯çŸ¥ï¼Œæˆ‘ä»¬æ˜¯é€šè¿‡é…ç½®<strong>ui</strong>ç•Œé¢çš„<strong>QCombobox</strong>æ¥è¿›è¡Œä¸²å£å‚æ•°çš„é…ç½®çš„ï¼Œå› æ­¤æƒ³è¦é…ç½®çš„å‚æ•°åº”ç”¨åˆ°<strong>Serial</strong>ï¼Œéœ€è¦è®¾ç½®ç»“æ„ä½“ï¼Œé€šè¿‡ä¿¡å·ä¸æ§½æ¥ä¼ é€’ç»“æ„ä½“çš„å€¼ï¼Œæ¥ä¼ é€’é…ç½®å‚æ•°ã€‚</p>
<p>è¿™é‡Œéœ€è¦åœ¨<strong>mainwidget.h</strong>ä¸­æ·»åŠ **#include â€œSerialInfo.hâ€<strong>å¤´æ–‡ä»¶ï¼Œå¹¶æ·»åŠ ä¸€ä¸ªç§æœ‰æˆå‘˜</strong>info**ã€‚</p>
<pre class="language-cpp" data-language="cpp"><code class="language-cpp">private:
    Ui::MainWidget *ui;
    QIntValidator* isBaudRateRange;&#x2F;&#x2F;è®¾ç½®æ³¢ç‰¹ç‡è¾“å…¥èŒƒå›´
    Sinfo *info&#x3D;nullptr; &#x2F;&#x2F;è®¾ç½®ä¸²å£é…ç½®çš„å‚æ•°</code></pre>

<blockquote>
<p>æ³¨ï¼š</p>
<ol>
<li>Sinfo *infoå¯ä»¥è§ä¹‹å‰é…ç½®çš„å†…å®¹ã€‚</li>
</ol>
</blockquote>
<p>åœ¨<strong>mainwidget.h</strong>ä¸­åˆ›å»º**void getComboBoxInfo();**ç”¨ä»¥è·å–é…ç½®å‚æ•°ã€‚</p>
<p>å…·ä½“å†…å®¹å¦‚ä¸‹:</p>
<pre class="language-cpp" data-language="cpp"><code class="language-cpp">void MainWidget::getComboBoxInfo()
&#123;
    if(info!&#x3D;nullptr)   &#x2F;&#x2F;åˆ é™¤åŸå…ˆå†…å­˜ç©ºé—´
    &#123;
        delete info;
    &#125;
    this-&gt;info &#x3D; new Sinfo;&#x2F;&#x2F;é˜²æ­¢å†…å­˜æ³„æ¼,å…³é—­çª—å£æ—¶ delete info;
    this-&gt;info-&gt;comName&#x3D;ui-&gt;comPortName-&gt;currentText();  &#x2F;&#x2F;è®¾ç½®ä¸²å£å·
    this-&gt;info-&gt;baudRate&#x3D;ui-&gt;comBaudRate-&gt;currentText().toInt();  &#x2F;&#x2F;è®¾ç½®æ³¢ç‰¹ç‡
    this-&gt;info-&gt;dataBits&#x3D;ui-&gt;comDataBits-&gt;currentIndex();  &#x2F;&#x2F;è®¾ç½®æ•°æ®ä½
    this-&gt;info-&gt;parity&#x3D;ui-&gt;comParity-&gt;currentIndex();      &#x2F;&#x2F;è®¾ç½®æ£€éªŒä½
    this-&gt;info-&gt;stopBits&#x3D;ui-&gt;comStopBits-&gt;currentIndex();  &#x2F;&#x2F;è®¾ç½®åœæ­¢ä½
    this-&gt;info-&gt;flowControl&#x3D;0 ;                           &#x2F;&#x2F;è®¾ç½®æµæ§ä½ï¼Œé»˜è®¤å€¼ä¸º0æ— æµæ§
    this-&gt;info-&gt;Encode&#x3D;ui-&gt;comEncode-&gt;currentIndex();      &#x2F;&#x2F;è®¾ç½®ç¼–ç æ ¼å¼
    
&#125;</code></pre>

<blockquote>
<p>æ³¨ï¼š</p>
<ol>
<li>å…¶ä¸­ï¼Œ<strong>info</strong>åœ¨é€€å‡ºæ—¶è¦<strong>delete</strong>ã€‚</li>
</ol>
</blockquote>
<p>è®¾ç½®å®Œå‚æ•°æ—¶ï¼Œè®°å¾—æ”¾è¿›<strong>MainWidget</strong>ä¸­æ‰§è¡Œã€‚ä½†MainWidgetä¸­ä¹‹åœ¨æ‰“å¼€ç¨‹åºæ—¶æ‰§è¡Œä¸€æ¬¡ï¼Œå› æ­¤ï¼Œéœ€è¦æ·»åŠ ä¿¡å·ä¸æ§½æ¥æ›´æ–°infoçš„å‚æ•°ã€‚ç”±äºä½¿ç”¨çš„æ˜¯<strong>QCombobox</strong>ï¼ŒæŸ¥é˜…å¸®åŠ©æ–‡æ¡£å¯çŸ¥ï¼Œèƒ½ç”¨åˆ°çš„ä¿¡å·å‡½æ•°ä¸º**currentIndexChanged();**ã€‚</p>
<p><img src="https://img.daitcc.top:8090/i/2023/11/655f601e4ea99.gif" loading="lazy"></p>
<p>å…·ä½“å†…å®¹ï¼š</p>
<p><img src="https://img.daitcc.top:8090/i/2023/11/655f6023c6f7c.png" loading="lazy"></p>
<p>ä»æˆªå›¾ä¸­æˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼Œå½“<strong>QCombobox</strong>çš„<strong>index</strong>å˜åŒ–æ—¶ï¼Œå¯ä»¥è¿”å›ä¸¤ç§å‚æ•°ï¼šä¸€ç§æ˜¯å½“å‰æ‰€é€‰å˜åŒ–çš„<strong>index</strong>å€¼ï¼Œå¦ä¸€ç§æ˜¯å½“å‰æ‰€é€‰å˜åŒ–çš„<strong>text</strong>çš„å€¼ã€‚</p>
<p>å› æ­¤å¯ä»¥åœ¨<strong>mainwidget.h</strong>ä¸­åˆ›å»º**void updataComboBox();**ç”¨ä»¥æ›´æ–°é…ç½®å‚æ•°ã€‚</p>
<p>å…·ä½“å†…å®¹å¦‚ä¸‹ï¼š</p>
<pre class="language-cpp" data-language="cpp"><code class="language-cpp">void MainWidget::updataComboBox()
&#123;
    connect(ui-&gt;comPortName, QOverload&lt;const QString &amp;&gt;::of(&amp;QComboBox::currentIndexChanged),
        this,[&#x3D;](const QString &amp;text)&#123;
        &#x2F;* ... *&#x2F;
        this-&gt;info-&gt;comName&#x3D;text;  &#x2F;&#x2F;è®¾ç½®ä¸²å£å·
     &#125;);
    connect(ui-&gt;comBaudRate, QOverload&lt;const QString &amp;&gt;::of(&amp;QComboBox::currentIndexChanged),
        this,[&#x3D;](const QString &amp;text)&#123;
        &#x2F;* ... *&#x2F;
        this-&gt;info-&gt;baudRate&#x3D;text.toInt();  &#x2F;&#x2F;è®¾ç½®ä¸²å£æ³¢ç‰¹ç‡
     &#125;);
    connect(ui-&gt;comDataBits, QOverload&lt;int&gt;::of(&amp;QComboBox::currentIndexChanged),
        this,[&#x3D;](int index)&#123;
        &#x2F;* ... *&#x2F;
        this-&gt;info-&gt;dataBits&#x3D;index;  &#x2F;&#x2F;è®¾ç½®ä¸²å£æ•°æ®ä½
     &#125;);
    connect(ui-&gt;comParity, QOverload&lt;int&gt;::of(&amp;QComboBox::currentIndexChanged),
        this,[&#x3D;](int index)&#123;
        &#x2F;* ... *&#x2F;
        this-&gt;info-&gt;parity&#x3D;index;  &#x2F;&#x2F;è®¾ç½®ä¸²å£æ ¡éªŒä½
    &#125;);
    connect(ui-&gt;comStopBits, QOverload&lt;int&gt;::of(&amp;QComboBox::currentIndexChanged),
        this,[&#x3D;](int index)&#123;
        &#x2F;* ... *&#x2F;
        this-&gt;info-&gt;stopBits&#x3D;index;  &#x2F;&#x2F;è®¾ç½®ä¸²å£åœæ­¢ä½
    &#125;);
    connect(ui-&gt;comEncode, QOverload&lt;int&gt;::of(&amp;QComboBox::currentIndexChanged),
        this,[&#x3D;](int index)&#123;
        &#x2F;* ... *&#x2F;
        this-&gt;info-&gt;Encode&#x3D;index;  &#x2F;&#x2F;è®¾ç½®ä¸²å£ç¼–ç æ ¼å¼
    &#125;);
&#x2F;**é¢„ç•™æµæ§æ§åˆ¶**&#x2F;
&#x2F;&#x2F;    connect(ui-&gt;comFlowControl, QOverload&lt;int&gt;::of(&amp;QComboBox::currentIndexChanged),
&#x2F;&#x2F;        this,[&#x3D;](int index)&#123;
&#x2F;&#x2F;        &#x2F;* ... *&#x2F;
&#x2F;&#x2F;        this-&gt;info-&gt;flowControl&#x3D;index;  &#x2F;&#x2F;è®¾ç½®ä¸²å£æµæ§ä½
&#x2F;&#x2F;    &#125;);
&#125;</code></pre>

<p>è‡³æ­¤ï¼Œè®¾ç½®ä¸²å£å‚æ•°é…ç½®æ•°ç»„å®Œæˆã€‚</p>
<h3 id="è®¾ç½®æ‰“å¼€ä¸²å£å’Œå…³é—­ä¸²å£æŒ‰é’®"><a href="#è®¾ç½®æ‰“å¼€ä¸²å£å’Œå…³é—­ä¸²å£æŒ‰é’®" class="headerlink" title="è®¾ç½®æ‰“å¼€ä¸²å£å’Œå…³é—­ä¸²å£æŒ‰é’®"></a>è®¾ç½®æ‰“å¼€ä¸²å£å’Œå…³é—­ä¸²å£æŒ‰é’®</h3><p><img src="https://img.daitcc.top:8090/i/2023/11/655f60285cf0e.png" loading="lazy"></p>
<p>é€šè¿‡è®¾ç½®çš„uiç•Œé¢å¯çŸ¥ï¼Œæˆ‘ä»¬ä»…è®¾ç½®äº†ä¸€ä¸ªæŒ‰é’®ï¼Œå› æ­¤æƒ³é€šè¿‡ä¸€ä¸ªæŒ‰é’®å»è§¦å‘æ‰“å¼€å’Œå…³é—­ä¸²å£æ—¶å°±éœ€è¦æ·»åŠ åˆ«çš„æ¡ä»¶ï¼Œè¿™é‡Œå¯ä»¥ä½¿ç”¨ä¸¤ç§è§£å†³æ–¹æ³•ã€‚</p>
<blockquote>
<ol>
<li>è®¾ç½®æŒ‰é’®çš„æ–‡å­—ï¼Œé€šè¿‡åˆ¤æ–­æ–‡å­—æ¥åˆ¤æ–­å½“å‰æ‰€å¤„çš„çŠ¶æ€ã€‚ï¼ˆ**setText()**å‡½æ•°ï¼‰</li>
<li>è®¾ç½®æŒ‰é’®çš„çŠ¶æ€ï¼Œé€šè¿‡åˆ¤æ–­æŒ‰é’®çŠ¶æ€æ¥åˆ¤æ–­å½“å‰æ‰€å¤„çš„çŠ¶æ€ã€‚ï¼ˆ**setChecked()**å‡½æ•°ï¼‰</li>
</ol>
</blockquote>
<p>è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨**setText()**çš„æ–¹æ³•ã€‚</p>
<p>åœ¨<strong>mainwidget.h</strong>ä¸­åˆ›å»º**void SerialOpen();<strong>å’Œ</strong>void SerialClose();**ç”¨ä»¥æ‰“å¼€å’Œå…³é—­ä¸²å£ã€‚åŒæ—¶åˆ›å»ºå‘é€é…ç½®ï¼Œæ‰“å¼€å’Œå…³é—­ä¸²å£ä¿¡å·ã€‚</p>
<p>å†…å®¹å¦‚ä¸‹ï¼š</p>
<pre class="language-cpp" data-language="cpp"><code class="language-cpp">public:
    void SerialOpen();  &#x2F;&#x2F;æ‰“å¼€ä¸²å£å‡½æ•°
    void SerialClose(); &#x2F;&#x2F;å…³é—­ä¸²å£å‡½æ•°
signals:
    void SendSerialConfig(Sinfo *info);  &#x2F;&#x2F;å‘é€ä¸²å£é…ç½®ä¿¡å·
    void isCloseSerial();             &#x2F;&#x2F;å‘é€å…³é—­ä¸²å£ä¿¡å·
    void isOpenSerial();              &#x2F;&#x2F;å‘é€æ‰“å¼€ä¸²å£ä¿¡å·</code></pre>

<p>æ ¹æ®ä¸Šè¿°æ­¥éª¤ï¼Œä¿®æ”¹**SerialOpen();<strong>å’Œ</strong>SerialClose()**å†…å®¹å¦‚ä¸‹ï¼š</p>
<pre class="language-cpp" data-language="cpp"><code class="language-cpp">&#x2F;&#x2F;æ‰“å¼€ä¸²å£è®¾å¤‡
void MainWidget::SerialOpen(void)
&#123;
    &#x2F;&#x2F;è®¾ç½®ä¸²å£æ‰“å¼€æŒ‰é’®æ–‡æœ¬æ ·å¼
     if(ui-&gt;OpenComBtn-&gt;text() &#x3D;&#x3D; QString::fromLocal8Bit(&quot;æ‰“å¼€ä¸²å£&quot;))&#123;
         ui-&gt;OpenComBtn-&gt;setText(QString::fromLocal8Bit(&quot;å…³é—­ä¸²å£&quot;));
         emit SendSerialConfig(info); &#x2F;&#x2F;å‘é€ä¸²å£é…ç½®ä¿¡å·
         emit isOpenSerial();
     &#125;
     else&#123;
         ui-&gt;OpenComBtn-&gt;setText(QString::fromLocal8Bit(&quot;æ‰“å¼€ä¸²å£&quot;));
         this-&gt;SerialClose();   &#x2F;&#x2F;æ‰§è¡Œå…³é—­ä¸²å£è®¾å¤‡
     &#125;
&#125;
&#x2F;&#x2F;å…³é—­ä¸²å£è®¾å¤‡
void MainWidget::SerialClose(void)
&#123;
    emit isCloseSerial();
&#125;</code></pre>

<p>è®¾ç½®å®Œ<strong>SerialOpen();<strong>å’Œ</strong>SerialClose()<strong>åï¼Œè®°å¾—æ”¾è¿›</strong>MainWidget</strong>ä¸­æ‰§è¡Œã€‚</p>
<p>å…·ä½“å†…å®¹å¦‚ä¸‹ï¼š</p>
<pre class="language-cpp" data-language="cpp"><code class="language-cpp">MainWidget::MainWidget(QWidget *parent)
    : QWidget(parent)
    , ui(new Ui::MainWidget)
&#123;
    ui-&gt;setupUi(this);

    &#x2F;&#x2F;0.åˆå§‹åŒ–uiç•Œé¢;é…ç½®qssæ ·å¼
    initUI();
    &#x2F;&#x2F;1.åˆ›å»ºå­çº¿ç¨‹å¯¹è±¡ï¼ŒåŠ¨æ€åˆ†é…ç©ºé—´ï¼ŒæŒ‡å®šçˆ¶å¯¹è±¡
    t1 &#x3D; new QThread(this);
    &#x2F;&#x2F;2.åˆ›å»ºä»»åŠ¡ç±»å¯¹è±¡,åŠ¨æ€åˆ†é…ç©ºé—´ï¼Œä¸èƒ½æŒ‡å®šçˆ¶å¯¹è±¡
    m_work &#x3D; new Serial;&#x2F;&#x2F;é˜²æ­¢å†…å­˜æ³„æ¼,å…³é—­çª—å£æ—¶ delete m_work;
    &#x2F;&#x2F;3.å°†ä»»åŠ¡å¯¹è±¡ç§»åŠ¨åˆ°æŸä¸ªå­çº¿ç¨‹ä¸­
    m_work-&gt;moveToThread(t1);
    &#x2F;&#x2F;4.è·å–ä¸²å£è®¾å¤‡ä¿¡æ¯
    getportInfo();
        &#x2F;&#x2F;æ·»åŠ æ›´æ–°æŒ‰é’®ä¿¡å·ä¸æ§½ï¼Œç”¨äºæ›´æ–°ä¸²å£è®¾å¤‡ä¿¡æ¯
        connect(ui-&gt;upBtn,&amp;QPushButton::clicked,this,&amp;MainWidget::getportInfo);
    &#x2F;&#x2F;5.è·å–ä¸²å£å‚æ•°é…ç½®æ•°ç»„
    getComboBoxInfo();
       &#x2F;&#x2F;æ·»åŠ ä¸²å£å‚æ•°æ•°ç»„çš„ä¿¡å·ä¸æ§½ï¼Œç”¨äºæ›´æ–°ä¸²å£å‚æ•°é…ç½®æ•°ç»„
       updataComboBox();
    &#x2F;&#x2F;6.æ‰“å¼€çº¿ç¨‹å¹¶è¿è¡Œm_workçš„SerialOpen()å’ŒSerialClose()
    connect(ui-&gt;OpenComBtn,&amp;QPushButton::clicked,this,[&#x3D;]&#123;
            this-&gt;SerialOpen();
            t1-&gt;start();
        &#125;);
        qRegisterMetaType&lt;Sinfo&gt;(&quot;Sinfo&quot;);
        &#x2F;&#x2F;æ·»åŠ ä¼ é€’ä¸²å£å‚æ•°é…ç½®çš„ä¿¡å·ä¸æ§½ï¼Œç”¨äºä¼ é€’ä¸²å£å‚æ•°é…ç½®
        connect(this,&amp;MainWidget::SendSerialConfig,m_work,&amp;Serial::RecvSerialConfig);
        &#x2F;&#x2F;æ·»åŠ æ‰“å¼€ä¸²å£çš„ä¿¡å·ä¸æ§½ï¼Œç”¨äºæ‰“å¼€ä¸²å£
        connect(this,&amp;MainWidget::isOpenSerial,m_work,&amp;Serial::SerialOpen);
        &#x2F;&#x2F;æ·»åŠ ä¸²å£æ‰“å¼€å¤±è´¥æ ‡å¿—
        connect(m_work,&amp;Serial::isnoSerialOpen,this,[&#x3D;]()&#123;
            message(&quot;ä¸²å£ä¸å­˜åœ¨ï¼Œæˆ–è¢«å ç”¨!&quot;);
            ui-&gt;OpenComBtn-&gt;setText(QString::fromLocal8Bit(&quot;æ‰“å¼€ä¸²å£&quot;));
        &#125;);
        &#x2F;&#x2F;æ·»åŠ å…³é—­ä¸²å£çš„ä¿¡å·ä¸æ§½ï¼Œç”¨äºé‡Šæ”¾ä¸²å£
        connect(this,&amp;MainWidget::isCloseSerial,m_work,&amp;Serial::SerialClose);

&#125;</code></pre>

<blockquote>
<p>æ³¨ï¼š</p>
<ol>
<li>ä¼ é€’ä¸²å£å‚æ•°ç»“æ„ä½“æ—¶ï¼Œéœ€è¦å…ˆå£°æ˜ã€‚</li>
</ol>
</blockquote>
<p>è®¾ç½®æ‰“å¼€ä¸²å£åï¼Œæ›´æ–°ä¸²å£ä¿¡æ¯åœ¨uiç•Œé¢ä¸Šã€‚</p>
<p>æ·»åŠ ç›¸åº”çš„ä¿¡å·ä¸æ§½ï¼Œå…·ä½“å†…å®¹å¦‚ä¸‹</p>
<pre class="language-cpp" data-language="cpp"><code class="language-cpp">&#x2F;&#x2F;7.ä»m_workå¤„ä¼ é€’å›æ¥çš„Serialinfoæ˜¾ç¤ºåœ¨uiç•Œé¢ä¸Š
connect(m_work,&amp;Serial::SetInfo,this,[&#x3D;](QString info)&#123;
    ui-&gt;Info-&gt;setText(info);
&#125;);</code></pre>

<p>è®¾ç½®æˆåŠŸåï¼Œæ·»åŠ å½“ä¸²å£å…³é—­æ—¶ï¼Œæ¸…é™¤INFOçš„å†…å®¹ã€‚å› æ­¤éœ€è¦åœ¨**SerialClose()**ä¸­æ·»åŠ ä»¥ä¸‹å†…å®¹ã€‚</p>
<pre class="language-cpp" data-language="cpp"><code class="language-cpp">&#x2F;&#x2F;å…³é—­ä¸²å£è®¾å¤‡
void MainWidget::SerialClose(void)
&#123;
    ui-&gt;Info-&gt;clear();  &#x2F;&#x2F;æ¸…ç©ºæ˜¾ç¤ºçš„é…ç½®å‚æ•°
    emit isCloseSerial(); &#x2F;&#x2F;å‘é€å…³é—­ä¸²å£ä¿¡å·
&#125;</code></pre>

<p>è‡³æ­¤ï¼Œè®¾ç½®æ‰“å¼€ä¸²å£å’Œå…³é—­ä¸²å£æŒ‰é’®å®Œæˆã€‚</p>
</div></section><div id="reward-container"><span class="hty-icon-button button-glow" id="reward-button" title="æ‰“èµ" onclick="var qr = document.getElementById(&quot;qr&quot;); qr.style.display = (qr.style.display === &quot;none&quot;) ? &quot;block&quot; : &quot;none&quot;;"><span class="icon iconify" data-icon="ri:hand-coin-line"></span></span><div id="reward-comment">æˆ‘å¾ˆå¯çˆ±ï¼Œè¯·ç»™æˆ‘é’±</div><div id="qr" style="display:none;"><div style="display:inline-block"><a href="../images/alipay.png"><img loading="lazy" src="/../images/alipay.png" alt="æ”¯ä»˜å®" title="æ”¯ä»˜å®"></a><div><span style="color:#00A3EE"><span class="icon iconify" data-icon="ri:alipay-line"></span></span></div></div><div style="display:inline-block"><a href="../images/wechat.png"><img loading="lazy" src="/../images/wechat.png" alt="å¾®ä¿¡æ”¯ä»˜" title="å¾®ä¿¡æ”¯ä»˜"></a><div><span style="color:#2DC100"><span class="icon iconify" data-icon="ri:wechat-pay-line"></span></span></div></div></div></div><ul class="post-copyright"><li class="post-copyright-author"><strong>æœ¬æ–‡ä½œè€…ï¼š</strong>DaiT</li><li class="post-copyright-link"><strong>æœ¬æ–‡é“¾æ¥ï¼š</strong><a href="https://chenluntian.github.io/posts/e1c9b379" title="ç®€å•ä¸²å£ç¼–å†™">https://chenluntian.github.io/posts/e1c9b379</a></li><li class="post-copyright-license"><strong>ç‰ˆæƒå£°æ˜ï¼š</strong>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é»˜è®¤é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener" title="CC BY-NC-SA 4.0 "><span class="icon iconify" data-icon="ri:creative-commons-line"></span><span class="icon iconify" data-icon="ri:creative-commons-by-line"></span><span class="icon iconify" data-icon="ri:creative-commons-nc-line"></span><span class="icon iconify" data-icon="ri:creative-commons-sa-line"></span></a> è®¸å¯åè®®ã€‚</li></ul></article><div class="post-nav"><div class="post-nav-item"></div><div class="post-nav-item"><a class="post-nav-next" href="/posts/4ddba583" rel="next" title="pcigo-commandè®¾ç½®lskypro"><span class="post-nav-text">pcigo-commandè®¾ç½®lskypro</span><span class="icon iconify" data-icon="ri:arrow-right-s-line"></span></a></div></div></div><div class="hty-card" id="comment"></div></main><footer class="sidebar-translate" id="footer"><div class="beian"><a rel="noopener" href="https://beian.miit.gov.cn/" target="_blank">è‹ICPå¤‡17038157å·</a></div><div class="copyright"><span>&copy; 2016 â€“ 2023 </span><span class="with-love" id="animate"><span class="icon iconify" data-icon="ri:cloud-line"></span></span><span class="author"> DaiT</span></div><div class="powered"><span>ç”± <a href="https://hexo.io" target="_blank" rel="noopener">Hexo</a> é©±åŠ¨ v6.3.0</span><span class="footer-separator">|</span><span>ä¸»é¢˜ - <a rel="noopener" href="https://github.com/YunYouJun/hexo-theme-yun" target="_blank"><span>Yun</span></a> v1.10.11</span></div></footer></div><a class="hty-icon-button" id="back-to-top" aria-label="back-to-top" href="#"><span class="icon iconify" data-icon="ri:arrow-up-s-line"></span><svg class="progress-circle-container" viewBox="0 0 100 100"><circle class="progress-circle" id="progressCircle" cx="50" cy="50" r="48" fill="none" stroke="#0078E7" stroke-width="2" stroke-linecap="round"></circle></svg></a><a class="popup-trigger hty-icon-button icon-search" id="search" href="javascript:;" title="æœç´¢"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:search-line"></span></span></a><script>window.addEventListener("DOMContentLoaded", () => {
  // Handle and trigger popup window
  document.querySelector(".popup-trigger").addEventListener("click", () => {
    document.querySelector(".popup").classList.add("show");
    setTimeout(() => {
      document.querySelector(".search-input").focus();
    }, 100);
  });

  // Monitor main search box
  const onPopupClose = () => {
    document.querySelector(".popup").classList.remove("show");
  };

  document.querySelector(".popup-btn-close").addEventListener("click", () => {
    onPopupClose();
  });

  window.addEventListener("keyup", event => {
    if (event.key === "Escape") {
      onPopupClose();
    }
  });
});
</script><script defer src="https://fastly.jsdelivr.net/npm/algoliasearch@4/dist/algoliasearch-lite.umd.js"></script><script defer src="https://fastly.jsdelivr.net/npm/instantsearch.js@4/dist/instantsearch.production.min.js"></script><script defer src="/js/search/algolia-search.js" type="module"></script><div class="popup search-popup"><div class="search-header"><span class="popup-btn-close close-icon hty-icon-button"><span class="icon iconify" data-icon="ri:close-line"></span></span></div><div class="search-input-container"></div><div class="algolia-results"><div id="algolia-stats"></div><div id="algolia-hits"></div><div class="algolia-pagination" id="algolia-pagination"></div></div></div></body></html>